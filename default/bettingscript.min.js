function QuikBetBoxChanged(){var n,r,t,u,i,f,e;if($(".betAmount").val(""),$("td.selected").removeClass("selected"),betInstance.setQuickBetFlag(1),n=$("#txtQuikBetBox").val(),n=n.replace(/\s+/g,","),n.length>0){if(betbase.currentInstall.State!=1){$("#txtQuikBetBox").val("");return}for(r=n.split(","),t=0;t<r.length;t++)u=r[t],u&&(i=u.split("="),i.length>1&&(f=i[0],e=i[1],setFromQuikBetBox(f,e)))}}function setFromQuikBetBox(n,t){n.length!=1||isNaN(n)||(n="0"+n);t&&$(".table_betbox tbody").each(function(){for(var r=$(this).find("tr td").length,i=0;i<r;i++)$(this).find("tr").each(function(){var r=$(this).find("td").eq(i);r.find("input.betAmount").length>0&&r.find("input.betAmount").each(function(){var f=$(this).attr("title"),i=f.split("--")[1],u;i.length!=1||isNaN(i)||(i="0"+i);i==n&&($(this).val(t),u=r.attr("key"),r.hasClass("selected")||(r.addClass("selected"),r.siblings("[key="+u+"]").addClass("selected")))})})})}function setValue(n){var t=$("#txtDefaultAmount").val();t!=""&&(n.val(t),$(n).trigger("keyup"),setQuikBetBox())}function setQuikBetBox(){var t=$("#txtQuikBetBox"),n;t.length>0&&(n="",$(".table_betbox tbody").each(function(){for(var i=$(this).find("tr td").length,t=0;t<i;t++)$(this).find("tr").each(function(){var i=$(this).find("td").eq(t);i.find("input.betAmount").length>0&&i.find("input.betAmount").each(function(){var r=$(this).attr("title"),t=$(this).val(),i;if(t!=""){if(isNaN(t))return $(this).css("background-color","#FDFF37"),Dialog.Error("金额不是有效数字，请改正！",[]),!1;if(+t==0)return!1;i=r.split("--")[1];i&&(n.length==0?n=i+"="+t:n+=" "+i+"="+t)}})})}),t.val(n))}function sortBySxCallback(n,t){var i=CONST_ZODIACS.indexOf(n),r=CONST_ZODIACS.indexOf(t);return i>-1?i>r?1:i==r?0:-1:isNaN(n)?n>t?1:n==t?0:-1:+n>+t?1:n==t?0:-1}function isRepeat(n){for(var i=[],t=0;t<n.length;t++)if(i.indexOf(n[t])==-1)i.push(n[t]);else return!0;return!1}function getYearToWxNo(n,t){for(var i,r="",u=0;u<arrWxNo.length;u++)if(i=arrWxNo[u],t>=i.begindate&&t<=i.enddate){switch(n){case"金":r=i.j;break;case"木":r=i.m;break;case"水":r=i.s;break;case"火":r=i.h;break;case"土":r=i.t}break}return r}function sort(n){for(var t,r,u=[],e=[],f=0,i=0;i<CONST_ZODIACS.length;i++)if(n==CONST_ZODIACS[i]){f=i;u.push(n);break}for(t=CONST_ZODIACS.length-1;t>=0;t--)t>f&&e.push(CONST_ZODIACS[t]),t<f&&u.push(CONST_ZODIACS[t]);return r=[],r=r.concat(u),r.concat(e)}function getAnimalByNum(n,t){for(var e,r,o,s=sort(n),u=0,f=!1,i=0;i<CONST_NUMS.length;i++){e=CONST_NUMS[i];r=e.split(",");for(o in r)r[o]==t&&(f=!0);if(f)break;u++}return i<CONST_NUMS.length?s[u]:""}function getNumByAnimal(n,t){for(var f,r=sort(n),u=0,i=0;i<r.length;i++){if(f=r[i],f==t)break;u++}return i<=r.length?CONST_NUMS[u]:""}function getNumColor(n){return(n=d2(n),REDBALL.indexOf(n)>-1)?"red01":BLUEBALL.indexOf(n)>-1?"blue01":GREENBALL.indexOf(n)>-1?"green01":void 0}function getNumColor3(n){return(n=d2(n),REDBALL.indexOf(n)>-1)?"red":BLUEBALL.indexOf(n)>-1?"blue":GREENBALL.indexOf(n)>-1?"green":void 0}function getNumColor2(n){return(n=d2(n),REDBALL.indexOf(n)>-1)?"red02":BLUEBALL.indexOf(n)>-1?"blue02":GREENBALL.indexOf(n)>-1?"green02":void 0}function gethtml(n){var i,t;return i=document.getElementById(n),t="<html><head><!--<xml><x:ExcelWorkbook><x:ExcelWorksheets><x:ExcelWorksheet><x:Name>工作表标题<\/x:Name><x:WorksheetOptions><x:print><x:ValidPrinterInfo /><\/x:print><\/x:WorksheetOptions><\/x:ExcelWorksheet><\/x:ExcelWorksheets><\/x:ExcelWorkbook><\/xml><![endif]--><\/head>",t+=$("#"+n).html(),t+"<\/html>"}function XExportToExcel(n){var i=gethtml(n),t=window.open();t.document.open("text/html","gb2312");t.document.write(i);t.document.execCommand("SaveAs",!0,"table.xls")}function createBackgroudTimer(n){function e(){if(u!=1){if(i<=0){i=parseInt(t.timers);u=1;t.tickcallback(i);t.callback(f);return}i--;t.tickcallback(i)}}var t={timers:300,interval:1e3,start:!0,callback:function(){},tickcallback:function(){}};n&&$.extend(t,n);var i=parseInt(t.timers),r=0,u=0,f={start:function(){r>0&&(clearInterval(r),r=0);i=parseInt(t.timers);r=setInterval(function(){e()},t.interval);u=0},timers:t.timers,stop:function(){i=0;clearInterval(r);r=0;u=0},setInterval:function(n){t.timers=n},pause:function(){u=1},restore:function(){return u=0,i}};return t.start&&(r=setInterval(function(){e()},t.interval)),f}function combine(n,t){var u=n.length,f,r,i;if(t>u)return[];if(t==u)return[n];for(f=[],r=[],i=0;i<u;i++)r[i]=0;for(i=0;i<t;i++)r[i]=1;var h=!0,o=!1,e=0,s=0;do{for(s=0,e=0,o=!0,f.push(printOutput(r,n,t)),i=0;i<u-1;i++)if(r[i]==1&&r[i+1]==0){r[i]=0;r[i+1]=1;e=i;break}for(i=0;i<e;i++)r[i]==1&&s++;for(i=0;i<e;i++)r[i]=i<s?1:0;for(i=u-t;i<u;i++)if(r[i]==0){o=!1;break}h=o==!1?!0:!1}while(h);return f.push(printOutput(r,n,t)),f.sort(),f}function combine_num(n){var f,o,t,r,u,i,e;try{for(f=[],t=0;t<n.length;t++){for(r=n[t],u=[],i=0;i<r.length;i++)e=Number(r[i])+100,u.push(e);f.push(u)}for(f.sort(),o=[],t=0;t<f.length;t++){for(r=f[t],u=[],i=0;i<r.length;i++)e=Number(r[i])-100,u.push(e);o.push(u)}return o}catch(s){return n.sort(),n}}function printOutput(n,t){for(var r=[],u=0,i=0;i<n.length;i++)n[i]==1&&(r[u]=t[i],u++);return r}function comb(n,t){return n==t?1:t==1?n:t==0?0:n<t?0:n*comb(n-1,t-1)/t}function ChooseArrs(n){var u=n.length,i,r,t;if(u>=2){var f=n[0].length,e=n[1].length,h=f*e,o=new Array(h),s=0;for(t=0;t<f;t++)for(i=0;i<e;i++)o[s]=n[0][t]instanceof Array?n[0][t].concat(n[1][i]):[n[0][t]].concat(n[1][i]),s++;for(r=new Array(u-1),t=2;t<n.length;t++)r[t-1]=n[t];return r[0]=o,ChooseArrs(r)}return n[0]}function Map(){this.elements=[];this.size=function(){return this.elements.length};this.isEmpty=function(){return this.elements.length<1};this.clear=function(){this.elements=[]};this.put=function(n,t){this.elements.push({key:n,value:t})};this.removeByKey=function(n){var t=!1;try{for(i=0;i<this.elements.length;i++)if(this.elements[i].key==n)return this.elements.splice(i,1),!0}catch(r){t=!1}return t};this.removeByValue=function(n){var t=!1;try{for(i=0;i<this.elements.length;i++)if(this.elements[i].value==n)return this.elements.splice(i,1),!0}catch(r){t=!1}return t};this.removeByValueAndKey=function(n,t){var r=!1;try{for(i=0;i<this.elements.length;i++)if(this.elements[i].value==t&&this.elements[i].key==n)return this.elements.splice(i,1),!0}catch(u){r=!1}return r};this.get=function(n){try{for(i=0;i<this.elements.length;i++)if(this.elements[i].key==n)return this.elements[i].value}catch(t){return!1}return!1};this.element=function(n){return n<0||n>=this.elements.length?null:this.elements[n]};this.containsKey=function(n){var t=!1;try{for(i=0;i<this.elements.length;i++)this.elements[i].key==n&&(t=!0)}catch(r){t=!1}return t};this.containsValue=function(n){var t=!1;try{for(i=0;i<this.elements.length;i++)this.elements[i].value==n&&(t=!0)}catch(r){t=!1}return t};this.containsObj=function(n,t){var r=!1;try{for(i=0;i<this.elements.length;i++)this.elements[i].value==t&&this.elements[i].key==n&&(r=!0)}catch(u){r=!1}return r};this.values=function(){var n=[];for(i=0;i<this.elements.length;i++)n.push(this.elements[i].value);return n};this.valuesByKey=function(n){var t=[];for(i=0;i<this.elements.length;i++)this.elements[i].key==n&&t.push(this.elements[i].value);return t};this.keys=function(){var n=[];for(i=0;i<this.elements.length;i++)n.push(this.elements[i].key);return n};this.keysByValue=function(n){var t=[];for(i=0;i<this.elements.length;i++)n==this.elements[i].value&&t.push(this.elements[i].key);return t};this.keysRemoveDuplicate=function(){var n=[],r,t;for(i=0;i<this.elements.length;i++){for(r=!0,t=0;t<n.length;t++)if(n[t]==this.elements[i].key){r=!1;break}r&&n.push(this.elements[i].key)}return n}}function d2(n){return(n+"").length==1&&(n="0"+n),n}function IsPC(){for(var r=navigator.userAgent,t=["Android","iPhone","SymbianOS","Windows Phone","iPad","iPod"],i=!0,n=0;n<t.length;n++)if(r.indexOf(t[n])>0){i=!1;break}return i}function parseDate(n){var t=n.split("-");return new Date(t[0]-0,t[1]-1,t[2].substr(0,2)-0,0,0,0)}function getDaysInMonth(n,t){t=parseInt(t,10)+1;var i=new Date(n+"/"+t+"/01");return new Date(i.getTime()-864e5).getDate()}function MM_preload(){var n=document,t,r,i;for(n.MM_p||(n.MM_p=[]),r=n.MM_p.length,i=MM_preload.arguments,t=0;t<i.length;t++)i[t].indexOf("#")!=0&&(n.MM_p[r]=new Image,n.MM_p[r++].src=i[t])}function isIDnum(n){if(n=n.toLowerCase(),patten=/^[a-z][12][0-9]{8}$/,patten.test(n)){for(h="abcdefghjklmnpqrstuvxywzio",x=10+h.indexOf(n.substring(0,1)),chksum=(x-x%10)/10+x%10*9,i=1;i<9;i++)chksum+=n.substring(i,i+1)*(9-i);if(chksum=(10-chksum%10)%10,chksum==n.substring(9,10))return!0}return!1}function RClock(){if(!isNaN(RSecond)&&RSecond.length!=0){if(RSecond==0){document.location.href=document.location.href;return}RSecond--;document.getElementById("pclock").innerHTML=RSecond<10?"0"+RSecond:RSecond;setTimeout("RClock()",1e3)}}function RClockRate(){isNaN(RSecond)||RSecond.length==0||(RSecond--,RSecond==0&&location.replace("?op=member&fp=account"),document.getElementById("pclock").innerHTML=RSecond<10?"0"+RSecond:RSecond,setTimeout("RClockRate()",1e3))}function MyClock(){var n,t;vMyclock&&(n=new Date,n.setTime(vMyclock),vMyclock+=500,t=n.getHours()+":"+d2(n.getMinutes())+":"+d2(n.getSeconds()),NS4?(Ypos=window.pageYOffset+window.innerHeight-60,Xpos=window.pageXOffset+window.innerWidth-80):(Ypos=document.body.scrollTop+window.document.body.clientHeight-20,Xpos=document.body.scrollLeft+window.document.body.clientWidth-60),idMyClock.innerHTML=t,idMyClock.style.pixelTop=Ypos,idMyClock.style.pixelLeft=Xpos,setTimeout("MyClock()",500))}function d2(n){return n<10?"0"+n:n}function msover(){for(var n=event.srcElement;n.tagName!="TR";)n=n.parentElement;n.style.backgroundColor="#FFFFCC"}function msout(){for(var n=event.srcElement;n.tagName!="TR";)n=n.parentElement;n.style.backgroundColor=""}function KeyNumber(n){var i=n||window.event,r=i.target||i.srcElement,t=i.which||i.keyCode;return t==13||t==8||t==46||t==36||t==35||t==37||t==39?!0:(t<48||t>57)&&(t>95||t<106)?!1:void 0}function CheckAccountKey(n){var i=n||window.event,r=i.target||i.srcElement,t=i.which||i.keyCode;return t==8||t==46||t==36||t==35||t==37||t==39?!0:t>=97&&t<=122||t>=65&&t<=90||t>=48&&t<=57?!0:!1}function OnlyNumberKey(n){var i=n||window.event,r=i.target||i.srcElement,t=i.which||i.keyCode;return t==13||t==8||t==46||t==36||t==35||t==37||t==39?!0:t==46?!0:t>=48&&t<=57?!0:!1}function OnlyInt(n){var i=n||window.event,r=i.target||i.srcElement,t=i.which||i.keyCode;return t==13||t==8||t==36||t==35||t==37||t==39?!0:t>=48&&t<=57?!0:!1}function OnlySignInt(n){var i=n||window.event,r=i.target||i.srcElement,t=i.which||i.keyCode;return t==13||t==8||t==36||t==35||t==37||t==39?!0:t>=48&&t<=57?!0:t==45?!0:!1}function OnlyFloat(n){var i=n||window.event,r=i.target||i.srcElement,t=i.which||i.keyCode;return t==13||t==8||t==46||t==36||t==35||t==37||t==39?!0:t==46?!0:t>=48&&t<=57?!0:!1}function GetCookie(n){for(var u=n+"=",f=u.length,e=document.cookie.length,t=0,i,r;t<e;){if(i=t+f,document.cookie.substring(t,i)==u)return r=document.cookie.indexOf(";",i),r==-1&&(r=document.cookie.length),unescape(document.cookie.substring(i,r));if(t=document.cookie.indexOf(" ",t)+1,t==0)break}return null}function SetCookie(n,t){var i=SetCookie.arguments,r=SetCookie.arguments.length,u=r>2?i[2]:null,f=r>3?i[3]:null,e=r>4?i[4]:null,o=r>5?i[5]:!1;document.cookie=n+"="+escape(t)+(u==null?"":"; expires="+u.toGMTString())+(f==null?"":"; path="+f)+(e==null?"":"; domain="+e)+(o==!0?"; secure":"")}function DeleteCookie(n){var t=new Date;t.setTime(t.getTime()-1);document.cookie=n+"="+cval+"; expires="+t.toGMTString()}function printpage(){window.print?window.print():alert("No printer driver in your PC")}function n2c(n){var t,i,f,r,u,e,o,s,h;if(GetCookie("g_language")!="zh-tw"&&GetCookie("g_language")!="zh-cn")return"";if(t="",n.length>4){for(i=n.length,f=i%4!=0?parseInt(i/4)+1:i/4,u=1,r=4;u<=f;u++)e=u==f?i%4>0?n2c(n.substr(0,i%4)):n2c(n.substr(i-r,4)):n2c(n.substr(i-r,4)),e&&(t=e+sOrder[u]+t),r=r+4;return s=new RegExp("^"+sChinese[0],"ig"),h=new RegExp("(^["+sChinese[0]+"]{1,})([^"+sChinese[0]+"]{0,})","ig"),s.test(t)&&(t=t.replace(h,"$2")),t}return n.length==0||!/[1-9]/ig.test(n)?"":(o=n.substr(0,1),t+=sChinese[o],o!=0&&(t+=sLength[n.length]),t+(/^0/ig.test(n)?n2c(n.replace(/(^0+)([1-9]*)/ig,"$2")):n2c(n.substr(1))))}function colornumber(n){var t=""+n;return t.length>4&&(t="<font color=#FF5500>"+t.substr(0,t.length-4)+"<\/font>"+t.substr(t.length-4)),t}function trim(n){return n.replace(/^[\s]+/g,"").replace(/[\s]+$/g,"")}function initarray(n,t){for(var i=0;i<n;i++)this[i]=t;return this}function push(n,t){for(var i=n.length-1;i>0;i--)n[i]=n[i-1];n[0]=t}function popup(n,t,i,r){t||(t="_self");i||(i=500);r||(r=500);var u=window.open(n,t,"menu=0,width="+i+",height="+r+",resizable=1,scrollbars=1");return u.focus(),u}function isFloat(n){return typeof n=="number"&&n%1!=0}function alertMessage(n,t){alertMessageCallbackFun=t;$("#dialogalert").length==0&&($("body").append('<div id="dialogalert"><\/div>'),$("#dialogalert").dialog({autoOpen:!1,title:"系统消息框",model:!0,width:500,buttons:{"确定":function(){$(this).dialog("close");alertMessageCallbackFun&&alertMessageCallbackFun()},"取消":function(){$(this).dialog("close")}},create:function(){$(this).closest(".ui-dialog").find(".ui-button").css({height:"28px"})}}));$("#dialogalert").html(""+n+"");$("#dialogalert").dialog("open")}function findByCode(n,t){for(var i in t)if(t[i].code==n)return t[i]}function findkeyByCode(n,t){for(var i in t)if(t[i].code==n)return i}function nowdate(){now.setTime(now.getTime()+1e3);setTimeout("nowdate()",1e3);var n=$("#hktime");n.length>0&&n.html("现在"+now.getDate()+"日 "+d2(now.getHours())+" : "+d2(now.getMinutes())+" : "+d2(now.getSeconds())+"")}function d2(n){return(n+"").length==1&&(n="0"+n),n}function countdown(){var n=timestap,u=Math.floor(n/86400),i,r,e,t,f;n-=u*86400;i=Math.floor(n/3600);n-=i*3600;r=Math.floor(n/60);n-=r*60;e=Math.floor(n);t="离截止下注 ";u>0&&(t+=""+u+"天 ");i>0&&(t+=""+i+"时 ");r>0&&(t+=""+d2(r)+"分 ");t+=""+d2(e)+"秒";f=$("#countdownstr");f.length>0&&f.html(t);countdownHandler==0&&(countdownHandler=setInterval(countdown,1e3));timestap-=1;timestap==0&&(location.reload(),timestap=0)}function stopCountdown(){countdownHandler>0&&(clearInterval(countdownHandler),countdownHandler=0)}function clearNoNum(n,t){(n=window.event||n,n.keyCode==37|n.keyCode==39)||(t.value=t.value.replace(/[^\d.]/g,""),t.value=t.value.replace(/^\./g,""),t.value=t.value.replace(/\.{2,}/g,"."),t.value=t.value.replace(".","$#$").replace(/\./g,"").replace("$#$","."))}function checkNum(n){n.value=n.value.replace(/\.$/g,"")}function setDifTime(n,t){var r=n.getTime()+t*864e5,i=new Date;return i.setTime(r),i}function getLastWeekDate1(){var t=new Date,n=now.getDay(),i;return n==0&&(n=7),i=now.getTime()-(n+6)*864e5,t.setTime(i),t}function getLastWeekDate7(){var t=new Date,n=now.getDay(),i;return n==0&&(n=7),i=now.getTime()-n*864e5,t.setTime(i),t}function getThisWeekDate1(){var t=new Date,n=now.getDay(),i;return n==0&&(n=7),i=now.getTime()-(n-1)*864e5,t.setTime(i),t}function getTwdx(n){var i=[5,6,7,8,9,15,16,17,18,19,25,26,27,28,29,35,36,37,38,39,45,46,47,48],r=[1,2,3,4,10,20,30,40,11,12,13,14,21,22,23,24,31,32,33,34,41,42,43,44],t;for(n=+n,t=0;t<i.length;t++)if(i[t]==n)return"大";for(t=0;t<r.length;t++)if(r[t]==n)return"小";return"和"}function autoSize(n,t){var i=$("#"+n),r=i.position(),u=r.top,f=t==undefined?0:t;i.height($(window).height()-u-105-f)}function html_encode(n){var t="";return n.length==0?"":(t=n.replace(/&/g,"&gt;"),t=t.replace(/</g,"&lt;"),t=t.replace(/>/g,"&gt;"),t=t.replace(/ /g,"&nbsp;"),t=t.replace(/\'/g,"&#39;"),t=t.replace(/\"/g,"&quot;"),t.replace(/\n/g,"<br>"))}function html_decode(n){var t="";return n.length==0?"":(t=n.replace(/&gt;/g,"&"),t=t.replace(/&lt;/g,"<"),t=t.replace(/&gt;/g,">"),t=t.replace(/&nbsp;/g," "),t=t.replace(/&#39;/g,"'"),t=t.replace(/&quot;/g,'"'),t.replace(/<br>/g,"\n"))}function bindingHover(){$("table.list tbody tr:not(.head)").hover(function(){$(this).addClass("hover")},function(){$(this).removeClass("hover")})}function initMenu(){var o=[],p=$("#lotterys"),f=[],s,l,a,h,i,e,v,y,c,t,u,n,r;if(p.find("a").each(function(){var n=$(this),t={id:n.attr("id").substr(2),info:n.attr("lang").split("_",2),name:n.text()};n.data("info",t);o.push(t);f.push(t.id)}),f.length<=_LIC&&$(".menumoregame").hide(),s=store.get("_menu_"+userloginId),l=store.get("_menumore_"+userloginId),s){for(i=s.split(","),e=l.split(","),removeNotExist(i,f),removeNotExist(e,f),i.length<_LIC&&(appendFromMore(i,e),i.length<_LIC&&appendFromMore(i,f)),v=i.length,y=e.length,n=0;n<v;n++)r=i[n],c=$("<li><div class='item'><\/div><\/li>"),$(".items").append(c),t=c.find(".item"),$("#l_"+r).appendTo(t),$(t).append("<div class='removebtn'><\/div>");for(n=0;n<y;n++)r=e[n],u=$("<div class='itemmg'><\/div>"),$(".gamebox").append(u),$("#l_"+r).appendTo(u),$(u).append("<div class='addbtn'><\/div>");for(n=0;n<f.length;n++)r=f[n],i.indexOf(r)===-1&&e.indexOf(r)===-1&&(u=$("<div class='itemmg'><\/div>"),$(".gamebox").append(u),$("#l_"+r).appendTo(u),$(u).append("<div class='addbtn'><\/div>"))}else{for(a=Math.min(_LIC,o.length),n=0;n<a;n++)$(".items").append("<li><div class='item'><\/div><\/li>"),t=$(".item").eq(n),$("#l_"+o[n].id).appendTo(t),$(t).append("<div class='removebtn'><\/div>");for(h=0,n=_LIC;n<o.length;n++)$(".gamebox").append("<div class='itemmg'><\/div>"),t=$(".itemmg").eq(h),$("#l_"+o[n].id).appendTo(t),$(t).append("<div class='addbtn'><\/div>"),h++}currentLottery=$(".lotterys a.selected").data("info")}function removeNotExist(n,t){for(var r,f,u=n.length,i=0;i<u;i++)r=n[i],f=t.indexOf(r),f===-1&&(n.remove(r),i--,u--)}function appendFromMore(n,t){for(var r,f,u=t.length,i=0;i<u;i++)if(r=t[i],f=n.indexOf(r),f===-1){if(t.remove(r),n.push(r),n.length>=_LIC)return;i--;u--}}function refreshMenu(){$(".gamecontainer").hide();var n=$("#l_"+currentLottery.id);$("#items a.selected").removeClass("selected");n.parent().hasClass("itemmg")?($("#moregameicon").text(n.data("info").name),$(".lotterys .menumoregame").addClass("selected2")):($("#moregameicon").text("更多游戏"),$(".lotterys .menumoregame").removeClass("selected2"),n.addClass("selected"))}function playSound(n){var t=$("#SOUND");t.remove();t=$('<audio id="SOUND"><source src="'+n+'" type="audio/mpeg"/><\/audio>').appendTo($("body"))[0];t.load&&t.load();t.play&&t.play()}function getUserParam(n,t){if(userparams)return userparams[n+"-"+t]}function showMsg(n,t){var i=$("#messageBox");0==i.length&&(i=$('<div id="messageBox">').appendTo("body").dialog({autoOpen:!1,resizable:!1,modal:!0,icon:!0,minHeight:0,width:400,title:"用户提示",buttons:{"确定":function(){$(this).data("ok",!0).dialog("close")},"取消":function(){$(this).dialog("close")}}}).on("dialogclose",function(n){n=$(this).data("cb");$.isFunction(n)&&n($(this).data("ok"))}));i.text(n).dialog("open").data({ok:!1,cb:t});t?i.dialog("widget").find(".ui-dialog-buttonset button:eq(1)").show():i.dialog("widget").find(".ui-dialog-buttonset button:eq(1)").hide()}function loadChangLong(){updataCL.loadCL()}function ShowQuickPancel(n){n==1?($("#bntquick").show(),$("#quick_sec_table").hide(),$("#changlong").show(),$("#fixOrNot").prop("checked",!0),$("#betbottom").addClass("bottomtable")):n==2?($("#bntquick").hide(),$("#quick_sec_table").hide(),$("#changlong").show(),$("#fixOrNot").prop("checked",!1),$("#betbottom").removeClass("bottomtable")):n==3?($("#bntquick").show(),$("#quick_sec_table").hide(),$("#changlong").show(),$("#fixOrNot").prop("checked",!1),$("#betbottom").removeClass("bottomtable")):n==4&&($("#bntquick").hide(),$("#quick_sec_table").hide(),$("#changlong").show(),$("#fixOrNot").prop("checked",!0),$("#betbottom").addClass("bottomtable"))}function changeQuickPannel(){_quickPannelState=!_quickPannelState;_quickPannelState?($("#bntquick").val("两面长龙"),$("#quick_sec_table").show(),$("#changlong").hide()):($("#bntquick").val("快捷投注"),$("#changlong").show(),$("#quick_sec_table").hide())}function k3Top10Results(){$.ajax({type:"POST",dataType:"json",url:baseUrl+"/ResultHistory/GetTopHistoryResults",data:{Top:"10",lotteryType:_lotteryType}}).done(function(n){for(var i,t,r,u=n.data,f=0;f<u.length;f++)i=u[f],i.installment=i.Installments,t=i.OpenResult.split(","),t.sort(function(n,t){return n-t}),r=Number(t[0])+Number(t[1])+Number(t[2]),i.cs1=Number(t[0]),i.cs2=Number(t[1]),i.cs3=Number(t[2]),i.sum=Number(r),i.other=Number(t[0])==Number(t[1])&&Number(t[1])==Number(t[2])?"通吃":Number(r)>=4&&Number(r)<=10?"小":"大";var e=LIBS.getUrlParam("page",location.search),o='<tr><td class="period" style="width:16%;" nowrap>{installment}期<\/td><td class="name"><span class="ico b{cs1}">{cs1}<\/span><\/td><td class="name"><span class="ico b{cs2}">{cs2}<\/span><\/td><td class="name"><span class="ico b{cs3}">{cs3}<\/span><\/td><td style="width:15%;'+(e=="yxx"?"display:none":"")+'"><span>{sum}<\/span><\/td><td style="width:15%;'+(e=="yxx"?"display:none":"")+'"><span>{other}<\/span><\/td><\/tr>',s=dataTemplate(o,u),h=$("#K3Results");h.html(s);bindingHover()})}function UpdateCurrentInstall(n){currentPk=n;betbase.currentInstall=currentPk;currentPk.Installments!=Installments?(Installments=currentPk.Installments,betInstance.reload()):Installments=currentPk.Installments;PeriodPanel.drawNumberPanel&&PeriodPanel.drawNumberPanel.html(currentPk.Installments);currentPk.State==1&&closePanKouTimer?closePanKouTimer.timediff=currentPk.CloseTimeStamp:closePanKouTimer&&(closePanKouTimer.timediff=currentPk.CloseTimeStamp);openPanKouTimer&&(openPanKouTimer.timediff=currentPk.OpenTimeStamp)}function createOpenTimer(n){var t={timers:n,callback:function(){openPanKouTimer.ticker.restore();PeriodPanel.reloadData()},tickcallback:function(){openPanKouTimer.timediff<=0&&currentPk.Installments!=""&&currentPk.Installments!=currentPk.PreInstallments&&_loadedstallNo!=currentPk.Installments&&(_loadedstallNo=currentPk.Installments,G_isHk6Type!=1&&top.PankouUpdater.load(G_isHk6Type));openPanKouTimer.countdown()}};openPanKouTimer=_countdownTimer("cdDraw",currentPk.OpenTimeStamp,!1,t)}function createCloseTimer(n){var t={timers:n,callback:function(){closePanKouTimer.ticker.restore()},tickcallback:function(){currentPk.State==1&&closePanKouTimer.timediff<=5&&closePanKouTimer.timediff>0&&playSound(closePKSound);currentPk.State==1&&closePanKouTimer.timediff==0&&$("table td a.odds,table td.odds,table td.oddsLM,.g_l_c span.odds").each(function(){var n=$(this);n.prop("id").indexOf("oddsValue")>-1&&$($("label",n).first()).text("--")});_needRndNum=="1"&&($("#cdRnNum").parent().parent().show(),currentPk.RndNum!=null&&currentPk.RndNum!=undefined&&currentPk.RndNum!=""?$("#cdRnNum").html(currentPk.RndNum):$("#cdRnNum").html("-"),currentPk.State==1&&closePanKouTimer.timediff_real==0&&G_isHk6Type!=1&&top.PankouUpdater.load(G_isHk6Type));closePanKouTimer.countdown()}};closePanKouTimer=_countdownTimer("cdClose",currentPk.CloseTimeStamp,!1,t)}function loadChipAmount(){var r=store.get("defaultSetting"),u=store.get("settingChecked"),n,t;if(r&&u==1)for($(".chip-amount").empty(),n=r.split(","),i=0;i<n.length;i++)$(".chip-amount").append('<a href="javascript:void(0)" onclick="setAmount('+n[i]+');">'+n[i]+"<\/a>");else for($(".chip-amount").empty(),t=[5,10,20,50,100,500],i=0;i<t.length;i++)$(".chip-amount").append('<a href="javascript:void(0)" onclick="setAmount('+t[i]+');">'+t[i]+"<\/a>")}function setAmount(n){var t=$("#txtDefaultAmount").val()-0;t+=n;$("input.chkDefaultCheck").is(":checked")==!0&&store.set("amount",t);$(".txtDefaultAmount").val(t);$("td.selected").find("input[type=text]").val(t);$(".g_l_c.selected").find("input[type=text]").val(t);betInstance.sumAmount&&betInstance.sumAmount();betOn()}function betCancel(){$(".betAmount").val("");$(".txtDefaultAmount").val("");$("#chooseItem").html("");$("#txtQuikBetBox").val("");$("td.selected").removeClass("selected");$(".g_l_c.selected").removeClass("selected");$(".pl3-inputbox #quickInput").val("")}function selectedAmount(n){var t=$(n).val();$("td.selected input.betAmount").val(t);$(".g_l_c.selected input.betAmount").val(t);$(".txtDefaultAmount").val(t)}function showsetting(){var r=store.get("defaultSetting"),t,n;if(r)for(t=r.split(","),i=0;i<t.length;i++)$(".ds").eq(i).val(t[i]);n=store.get("settingChecked");n||(n=1);$("input[name='settingbet'][value="+n+"]").attr("checked",!0);$("#settingbet").dialog();$("#settingbet").dialog("open")}function submitsetting(){var t=[],n,r;for(i=0;i<8;i++)n=$(".ds").eq(i).val(),n&&t.push(n);r=$("input[name=settingbet]:checked").val();store.set("defaultSetting",t);store.set("settingChecked",r);$("#settingbet").dialog("close");loadChipAmount()}function setChkDefault(){$("#chkDefaultCheck").click(function(){var n=0;$(this).is(":checked")==!0&&(n=1);store.set("chkDefault",n)})}function loadChkDefault(){var n=store.get("chkDefault");$("input[name='chkBox']").prop("checked",n==1?!0:!1)}function betOn(){$(".table_ball td").hasClass("selected")?$("#btnOk").focus():$("#btnOk").blur()}function pkChange(n){$(".sub_box li a",window.parent.document).each(function(){var t=$(this).attr("href");t=t.lastIndexOf("&pk=")<0?t+"&pk="+n:t.substring(0,t.length-1)+n;$(this).attr("href",t)});window.location.href=$(".sub_box li a.c_curr",window.parent.document).attr("href")}var hisBetList={betUrl:"/PlaceBet/Topbetlist",betList:[],interval:12e4,placebet:!1,top:10,loadNewBetList:function(n,t){var f,u,i,e;for(setTimeout(function(){top.updateAccount&&top.updateAccount()},1),f="<li><p style='white-space:nowrap;overflow: hidden; text-overflow:ellipsis;'  title='{OddNo}'>单号：<span class=\"bid\">{OddNo}<\/span><\/p><p class=\"contents\"><span class=\"text\" title='{MidType} {DisplayName}@{Odds}'><span style='color:blue;'>{MidType} {DisplayName}<\/span> @ <span style='color:red;'>{Odds}<\/span><\/span><\/p><p>下注额：{Amount}<\/p><p>可赢金额：{Result}<\/p><\/li>",u=0,i=0;i<n.length;i++)u+=n[i].Amount,n[i].Result=((n[i].Odds-1)*n[i].Amount).toFixed(top._winPoint),n[i].MidType=="对子"&&(n[i].MidType="");var o=dataTemplate(f,n),s='<ul class="bets">'+o+"<\/ul>",r='<table class="total s0 table">';r+="<tbody>";r+='<tr><td class="label">下注期数<\/td><td id="betInstallment">'+t+"<\/td><\/tr>";r+='<tr><td class="label">下注笔数<\/td><td id="betResultCount">'+n.length+"<\/td><\/tr>";r+=' <tr><td class="label">合计金额<\/td><td id="betResultTotal">'+u+"<\/td><\/tr>";r+="<\/tbody>";r+="<\/table>";e='<div class="control s0"> <input type="button" onclick="backLastBets()" class="button" href="javascript:void(0)" value="返回" />  <\/div>';top.ShowBetting(s+r+e)}},MAX_BET=126,BETTING_NUM=0,_ftType=0,betInstance,_countdownTimer,dataTemplate,alertMessageCallbackFun,timestap,countdownHandler,_quickPannelState,_loadedstallNo;$(document).ready(function(){$(".table_ball:not(.jj01) td").on("click",function(){var i=$(this),n=i.attr("key"),r=n.indexOf("K_TM")==0||n.indexOf("K_ZM")==0,u=n.indexOf("K_ZMT")==0,t=r?Number(n.slice(5)):"",f;u&&(t=Number(n.slice(-3)),t=isNaN(t)?Number(n.slice(-1)):Number(n.slice(-2)));i.hasClass("selected")?(i.removeClass("selected"),i.siblings("[key="+n+"]").removeClass("selected"),$("input[key="+n+"]").val(""),setQuikBetBox(),(r||u)&&($("#menuf_"+t).attr("is_check","false").css("background-color","#F7F7FB"),$("#enabled_"+t).prop("is_check",!1))):(i.addClass("selected"),i.siblings("[key="+n+"]").addClass("selected"),f=$("input[key="+n+"]"),setValue(f),(r||u)&&($("#menuf_"+t).attr("is_check","true").css("background-color","#CCC"),$("#enabled_"+t).prop("is_check",!0)))}).mouseover(function(){var n=$(this),t=n.attr("key");n.addClass("hover");n.siblings("[key="+t+"]").addClass("hover")}).mouseout(function(){var n=$(this),t=n.attr("key");n.removeClass("hover");n.siblings("[key="+t+"]").removeClass("hover")});$(".table_ball:not(.jj01) td input.betAmount").click(function(n){n.stopPropagation();var t=$(this);setValue(t)});$(".txtDefaultAmount").keyup(function(){var n=$(this).val().replace(/[^0-9.]/g,"");$(this).val(n)}).bind("paste",function(){var n=$(this).val().replace(/[^0-9.]/g,"");$(this).val(n)}).css("ime-mode","disabled");$(".table_ball:not(.jj01) td input.betAmount").keyup(function(){var n=$(this).val().replace(/[^0-9.]/g,"");$(this).val(n);setQuikBetBox()}).bind("paste",function(){var n=$(this).val().replace(/[^0-9.]/g,"");$(this).val(n)}).css("ime-mode","disabled");$("#settingbet input").keyup(function(){var n=$(this).val().replace(/[^0-9.]/g,"");$(this).val(n)}).bind("paste",function(){var n=$(this).val().replace(/[^0-9.]/g,"");$(this).val(n)}).css("ime-mode","disabled");$(document).unbind("keypress").on("keypress",function(n){if($(".table_ball td").hasClass("selected")&&n.keyCode==13)return betInstance.oddUIOkClick(),!1});$(".table_ball td input.betAmount").unbind("keypress").on("keypress",function(n){if(n.keyCode==13)return betInstance.oddUIOkClick(),!1});$("#txtQuikBetBox").unbind("keyup").on("keyup",QuikBetBoxChanged);$("#txtQuikBetBox").unbind("change").on("change",QuikBetBoxChanged)});betInstance={};var betbase={companyid:"",gameType:"",confirmUrl:"Confirmbet",ticketUrl:"Taketicket",refreshTime:10,refreshTimeCounter:10,now:new Date,currentInstall:{},cacheInstallNo:"",showLmOdds:!1,showLockNums:!1,showBetHistory:function(){},createNew:function(n,t,i,r){var u={},it=new Map,y=n,e=t,c=i,f=[],rt=r,h=[],p={},w="",l,b,a="",k=!1,o=!1,d="",g="",nt="1",s,v=!1,tt=[];return u.setRefreshUrl=function(n){d=n},u.getLoadDataUrl=function(){return a},u.getOddsSetting=function(){return f},u.setOddsSetting=function(n,t,i){var s,r,u,e,o,h;if(typeof n!="undefined")if(t)f=n,i==1&&(f.multiLm=i);else if(i==1)for(s=n,r=0;r<s.length;r++)for(u=s[r],e=0;e<f.length;e++)o=f[e],o.KeyCode==u.KeyCode&&(o.dis=u.dis,o.Odds=u.Odds);else for(h in n)f[h]=n[h]},u.getLockBetNumbers=function(){return tt},u.setLockBetNumbers=function(n){if(n)for(var t in n)tt[t]=n[t]},u.getBetList=function(){return h},u.setBetList=function(n){h=n},u.getLimit=function(){return p},u.setLimit=function(n){p=n},u.getMidType=function(){return w},u.setMidType=function(n){w=n},u.setSubType=function(n){g=n},u.getSubType=function(){return g},u.setIType=function(n){nt=n},u.getIType=function(){return nt},u.getCols=function(){return l},u.setCols=function(n){l=n},u.setDefaultAmount=function(n){v=n},u.getRows=function(){return b},u.getParam=function(){return s},u.setQuickBetFlag=function(n){s.qf=n},u.createBeting=function(n){var t={};return t.Amount=0,t.Odds=n.Odds,t.DisplayName=n.DisplayName,t.KeyCode=n.KeyCode,t.isTmb=s.isTmb,t},u.confirmbet=function(n){var i,t,r,f,o;if(u.IsBetting!=1){if(betbase.currentInstall.State!=1){Dialog.Error("已经关盘，请在开盘时投注！",[]);return}u.IsBetting=1;i=$(".ui-dialog-buttonset");i.hide();$("#"+e).show()&&(t=$("#"+c),t.length>0&&(r=$("#chkDefaultCheck").prop("checked"),f=$("#txtDefaultAmount").val(),t.click(),$(".chkDefaultCheck").prop("checked",r),$(".txtDefaultAmount").val(f),$("td").removeClass("selected"),$("#txtQuikBetBox").val("")),$(".betAmount").each(function(){$(this).val("")}));$("#"+e).dialog("close");o=this;h=n;$.ajax({type:"POST",dataType:"json",url:betbase.confirmUrl,timeout:2e4,data:{betdata:n,lotteryType:_lotteryType,betNum:"10"+(new Date).getTime(),prompt:$("#noPrompt").prop("checked"),gt:betbase.gameType,qf:s.qf},error:function(n,t){u.IsBetting=0;t=="timeout"?Dialog.Error("下注超时，请确认下注是否成功，再继续操作！",[]):Dialog.Error("操作失败，请重试，重复出现请联系客服！",[]);$("#"+e).dialog("close");betInstance.setQuickBetFlag(0)}}).done(function(t){u.IsBetting=0;o.confirmDataResp(t,n);try{betInstance.refresh()}catch(i){console.log("Error:loadOdds()")}})}},u.confirmDataResp=function(n){var f=$(".ui-dialog-buttonset"),t,i,r;if(f.show(),u.IsBetting=0,n.succeed=="1")betInstance.setQuickBetFlag(0),n.betList.length>0?$("#"+e).dialog("close"):$("#"+y).hide(),BETTING_NUM=n.BettingNumber,hisBetList.loadNewBetList(n.betList,n.installment),t=$("#"+c),t.length>0&&(i=$("#chkDefaultCheck").prop("checked"),r=$("#txtDefaultAmount").val(),t.click(),$(".chkDefaultCheck").prop("checked",i),$(".txtDefaultAmount").val(r),$("td").removeClass("selected")),u.totalBetAmount(),$("#spanAccountMoneyLimit").html(n.moneyLimit),$(".betAmount").each(function(){$(this).val("")});else if(n.succeed=="5"){var o=u.getBetList(),s=function(){$.ajax({type:"POST",dataType:"json",url:betbase.confirmUrl,data:{betdata:o,prompt:!0},error:function(n,t){t=="timeout"?(Dialog.Error("下注超时，请确认下注是否成功，再继续操作！",[]),$("#"+e).dialog("close")):(Dialog.Error("操作失败，请重试，重复出现请联系客服！",[]),$("#"+e).dialog("close"))}}).done(function(t){u.confirmDataResp(t,n.betList)})},h=[{text:"确定",click:function(){s()}},{text:"取消",click:function(){Dialog.Close()}}];Dialog.Confirm("赔率提示","赔率已经改变，是否继续投注？",h)}else{if(n.State==-2){top.location.href="/?msg=您的帐号会话已经超时或在其它地方被登陆！";return}n.msg&&Dialog.Error(n.msg,[])}},u.isLoadging=function(){return o},u.reload=function(n){var t=u.getParam();t.install=Installments;o=!0;$.ajax({type:"POST",dataType:"json",url:a,data:t,success:function(n){if(n.State==1&&n.data&&n.data.minmax)u.setOddsSetting(n.data.list,!0,n.data.minmax?1:0);else if(n.State==1)u.setOddsSetting(n.data,!0);else if(n.State==-2){top.location.href="/?msg=您的帐号会话已经超时或在其它地方被登陆！";return}u.setOddsData(n);n.Other&&n.Other.locks&&(u.setLockBetNumbers(n.Other.locks),u.setLocksData(n))},complete:function(){n&&n();o=!1},error:function(){n&&n();o=!1}})},u.refresh=function(n){if(betbase.currentInstall.State!=1){top.PankouUpdater.resetTimer();top.PankouUpdater.refleshPK();n&&n();u.closeOddsMng();return}if(o)n&&n();else{n&&n();var t=u.getParam();t.install=Installments;o=!0;$.ajax({type:"POST",dataType:"json",url:d,data:t,success:function(n){if(n.State==1&&n.data&&n.data.minmax)u.setOddsSetting(n.data.list,!1,n.data.minmax?1:0);else if(n.State==1)u.setOddsSetting(n.data,!1);else if(n.State==-2){top.location.href="/?msg=您的帐号会话已经超时或在其它地方被登陆！";return}n.Other&&n.Other.locks&&(u.setLockBetNumbers(n.Other.locks),u.setLocksData(n,1));u.setOddsData(n,1)},complete:function(){o=!1},error:function(){o=!1}})}},u.setOddsData=function(n,t){var i=n.data,s,f,e,r;if(t!=1&&n.State==1&&$("table td a.odds,table td.odds,table td.oddsLM,.g_l_c span.odds").each(function(){var n=$(this);n.prop("id").indexOf("oddsValue")>-1&&$($("label",n).first()).text("--")}),i&&i.minmax)if(s=i.minmax,u.setLianmaMinMax(s,n.State),i=n.data.list,n.State==1){if(t==1&&u.MyState&&u.MyState!=n.State){u.MyState=n.State;u.reload();return}for(u.MyState=n.State,f=0;f<i.length;f++)r=i[f],$("#"+r.KeyCode).html(r.dis)}else u.MyState=n.State,betbase.currentInstall.State=n.State,u.closeOddsMng();else if(i=n.data,n.State==1){if(t==1&&u.MyState&&u.MyState!=n.State){u.MyState=n.State;u.reload();return}u.MyState=n.State;for(e in i)r=i[e],$("#"+e).html(r)}else u.MyState=n.State,betbase.currentInstall.State=n.State,u.closeOddsMng();o=!1},u.closeOddsMng=function(){betbase.currentInstall.State!=1&&($("table td a.odds,.g_l_c span.odds").each(function(){var n=$(this);n.prop("id").indexOf("oddsValue")>-1&&($(this).hasClass("odds")||$(this).addClass("odds"),$($("label",$(this)).first()).text("--"),$("input.betAmount").val(""),$("td.selected").removeClass("selected"),$(".g_l_c.selected").removeClass("selected"))}),$("#txtQuikBetBox").val(""),$("table td a.odds,table td.odds,table td.oddsLM").each(function(){var n=$(this);n.prop("id").indexOf("oddsValue")>-1&&$($("label",n).first()).text("--")}))},u.setLocksData=function(n,t){var i=n.Other,f,r,o,v,l,h,e,y,c;if(i&&i.locks)if(i.locks.TH)for(f=[],f=i.locks.TH.indexOf("|")!=-1?i.locks.TH.replace(/[|]/g,",").split(","):i.locks.TH.split(","),r=0;r<f.length;r++)$(".table_betbox td[key=K_TH_"+f[r]+"]").addClass("lock").css({background:"#ddd",color:"#b5b0b0"}),$(".table_betbox td[key=K_TH_"+f[r]+"] input.betAmount").attr("disabled","disabled");else if(i.locks.TWS)for(f=[],f=i.locks.TWS.indexOf("|")!=-1?i.locks.TWS.replace(/[|]/g,",").split(","):i.locks.TWS.split(","),r=0;r<f.length;r++)$(".TWS_LOCKS td:eq("+r+")").text(f[r]);else for(e in i.locks)o=i.locks[e],$(".locks tr."+e).show().find("td").html(o.replace(/[|]/g,"<br />"));if(t==1&&n.data&&(v=u.getOddsSetting(),l=n.data,n.State==1)){h=0;for(e in l){var o=l[e],p=v[e],s=e.split("_"),a=o>p?"rgb(0, 0, 204)":"rgb(28, 140, 73)";s[0]=="TH"?$("#"+e).css("color",a):s[0]=="TWS"?(c="<label>"+s[1]+"<\/label> | <label style='color:"+a+"'>"+o+"<\/label>",$(".TWS_ChangeOdds td:eq("+h+")").html(c)):(h==0&&$(".changeOdds tr td").empty(),y=$(".changeOdds tr."+s[0]).show(),c="<p><label>"+s[1]+"<\/label> | <label style='color:"+a+"'>"+o+"<\/label><\/p>",y.find("td").append(c));h++}}},u.taketicket=function(n){var o,s,t,f,i,a,r,l,v,y;if(n.length>400){Dialog.Error("单次投注不能超过400注！",[]);return}if(n[0].Amount!=0){if(h=n,o=n.length,s=0,_temploateCode=="VNDLT"){for(t="<div class='betList'>",t+='<table class="table table_ball" width="100%" id=\'BetConfirmBox\'>',t+="<thead height=27  align=center>",t+="<th nowrap>项目<\/th><th nowrap >赔率<\/th><th nowrap>投注金额<\/th><th nowrap>总额<\/th><th nowrap>确认<\/th><\/thead>",f=0;f<o;f++)i=n[f],s+=i.Total,t+="<tr class='bet_items' keycode='"+i.KeyCode+"'> ",t+="<td class='disname'>"+i.DisplayName+"<\/td> ",t+="<td class='odds '>"+i.Odds+"<\/td> ",t+='<td class=\'amount\'><input style="width:60px;" type="text" value="'+i.Amount+"\" DuplexNum='"+(i.DuplexNum?i.DuplexNum:"")+"' DuplexType='"+(i.DuplexType?i.DuplexType:0)+"'/><\/td> ",t+="<td class='betAmount'>"+i.Total+"<\/td> ",t+='<td nowrap><input type="checkbox"    checked="checked"  /><\/td> ',t+="<\/tr>";t+="<\/table><\/div>";t+="<div class='bottom'><span id='bcount'>合计："+o+"注<\/span><span id='btotal'>总金额："+s+"<\/span><\/div>";t+='<input type="checkbox" checked id="noPrompt"/>如赔率变化，按最新赔率投注，不提示赔率变化。'}else{for(t="<div class='betList'>",t+='<table class="table table_ball" width="100%" id=\'BetConfirmBox\'>',t+="<thead height=27  align=center>",t+="<th nowrap>项目<\/th><th nowrap >赔率<\/th><th nowrap>金额<\/th><th nowrap>确认<\/th><\/thead>",f=0;f<o;f++)i=n[f],s+=i.Amount,t+="<tr class='bet_items' keycode='"+i.KeyCode+"'> ",t+="<td class='disname'>"+i.DisplayName+"<\/td> ",t+="<td class='odds '>"+i.Odds+"<\/td> ",t+='<td class=\'amount\'><input style="width:60px;" type="text" value="'+i.Amount+"\" DuplexNum='"+(i.DuplexNum?i.DuplexNum:"")+"' DuplexType='"+(i.DuplexType?i.DuplexType:0)+"'/><\/td> ",t+='<td nowrap><input type="checkbox"    checked="checked"  /><\/td> ',t+="<\/tr>";t+="<\/table><\/div>";t+="<div class='bottom'><span id='bcount'>合计："+o+"注<\/span><span id='btotal'>总金额："+s+"<\/span><\/div>";t+='<input type="checkbox" checked id="noPrompt"/>如赔率变化，按最新赔率投注，不提示赔率变化。'}a="投注列表";r=$("#"+e);r.html(t);r.find("input[type=text]").keyup(function(){var n=$(this).val().replace(/[^0-9.]/g,"");$(this).val(n)}).bind("paste",function(){var n=$(this).val().replace(/[^0-9.]/g,"");$(this).val(n)}).css("ime-mode","disabled");r.find("input[type=checkbox]").change(function(){var n=0,t=0;r.find("tr.bet_items").each(function(){var i=$(this).find("input[type=text]").val(),r=$(this).find("input[type=checkbox]"),u=$(this).attr("keycode");r.is(":checked")&&i!=""&&Number(i)>0&&(_temploateCode=="VNDLT"?($(this).find(".betAmount").text(Number(i)*vnBetting.methodVal[u]),n+=Number($(this).find(".betAmount").text())):n+=Number(i),t++)});r.find("#bcount").html("合计："+t+"注");r.find("#btotal").html("总金额："+n)});r.find("input[type=text]").keyup(function(){var n=0,t=0;r.find("tr.bet_items").each(function(){var i=$(this).find("input[type=text]").val(),r=$(this).find("input[type=checkbox]"),u=$(this).attr("keycode");r.is(":checked")&&i!=""&&Number(i)>0&&(_temploateCode=="VNDLT"?($(this).find(".betAmount").text(Number(i)*vnBetting.methodVal[u]),n+=Number($(this).find(".betAmount").text())):n+=Number(i),t++)});r.find("#bcount").html("合计："+t+"注");r.find("#btotal").html("总金额："+n)});l=store.get("noPrompt");l=l==null||l=="true"?!0:!1;r.find("#noPrompt").unbind("change").change(function(){store.set("noPrompt",$(this).prop("checked"))}).prop("checked",l);r.dialog("option",{title:a});r.dialog("option",{height:"auto"});$(".ui-dialog-buttonset").show();u.btnCancelTicketclick();r.dialog("open");$("#betform").hide();$("#"+e).dialog("option","buttons",[{text:"确定",click:betInstance.betListOkClick},{text:"取消",click:betInstance.betlistFormCancel}]);$("#betListForm").unbind("keypress").one("keypress",function(n){if(n.keyCode==13)return betInstance.betListOkClick(),!1});$("#chkDefaultCheck").prop("checked")||$(".txtDefaultAmount").val("");v=$("#chkDefaultCheck").prop("checked");y=$("#txtDefaultAmount").val();$("#"+c).click();$(".txtDefaultAmount").val(y);$(".checkdefault input[type=checkbox]").prop("checked",v)}},u.totalBetAmount=function(){var t=0,u=0,e,o,n,i,r;for(e in f)if(o="#odds_"+e,n=$(o).val(),n!=""){if(isNaN(n))continue;t++;u+=+n}i="";t>0&&(i="金额："+u+" (共"+t+"注)");r=$("#"+rt);r.length>0&&r.html(i)},u.changeMoney=function(){var n=0;$(".single_bet").each(function(){n=n+parseInt($(this).val())});$("#betlist_sum").html(n)},u.openbet=function(n){var i,t,r;if(betInstance=this,betbase.currentInstall.State!=1){Dialog.Error("已经关盘，请在开盘时投注！",[]);return}i=[];for(t in f)n==t&&(r=u.createBeting({KeyCode:t,Odds:f[t]}),r.Amount=0,r.DisplayName=f[t].DisplayName,i.push(r));i.length>0&&u.taketicket(i)},u.okclick=function(){if(betbase.currentInstall.State!=1){Dialog.Error("已经关盘，请在开盘时投注！",[]);return}u.confirmbet(h)},u.btnCancelTicketclick=function(){$("#"+y).hide()},u.betListOkClick=function(){var n=[],i=0,r=0,f=$("#BetConfirmBox"),t=$(".ui-dialog-buttonset");t.hide();f.find("tr.bet_items").each(function(){var c=$(this).find("input[type=text]"),u=c.val(),l=$(this).attr("keycode"),a=$(this).find(".odds").html(),f=$(this).find(".disname").html(),v=$(this).find("input[type=checkbox]"),e,o,t,h;if(v.is(":checked")){if(u!=""&&Number(u)>0)i+=Number(u),r++;else return;e=undefined;f.indexOf(",")>-1&&(o=f.split("--")[1],e=o);_temploateCode=="VNDLT"&&(o=f.split("--")[1],e=o);t={Amount:u,DisplayName:e,KeyCode:l,Odds:a};h=c.attr("DuplexType");h&&+h>0&&(t.DuplexType=+h,t.DuplexNum=c.attr("DuplexNum"),t.DisplayName=f.split("--")[1]);s.isTmb==1&&(t.isTmb=1);n.push(t)}});n.length>0?u.confirmbet(n):(Dialog.Error("请选择注单！",[]),t.show())},u.betlistFormCancel=function(){var n=[{text:"确定",click:function(){$("#"+e).dialog("close");Dialog.Close()}},{text:"取消",click:function(){Dialog.Close()}}];Dialog.Confirm("取消提醒","您确定要取消下注？",n)},u.oddUIOkClick=function(){var i,n,t,r;if(betbase.currentInstall.State!=1){Dialog.Error("已经关盘，请在开盘时投注！",[]);return}if(i=$(".buttonOk"),i.attr("disabled",!0),n=[],t=!1,v){if(r=$("#txtDefaultAmount").val(),r=="")return Dialog.Error("请输入金额！",[]),$(".txtDefaultAmount").css("background-color","#FDFF37"),!1;if(isNaN(r))return Dialog.Error("金额不是有效数字，请改正！",[]),$(".txtDefaultAmount").css("background-color","#FDFF37"),!1;$(".txtDefaultAmount").css("background-color","#FFFFFF")}$(".table_betbox tbody").each(function(){for(var r=$(this).find("tr td").length,i=0;i<r;i++)$(this).find("tr").each(function(){var r=$(this).find("td").eq(i),c,l,h,e,a,o;if(v&&r.hasClass("odds")&&(c=$("#txtDefaultAmount").val(),r.hasClass("selected"))){l=$(r).attr("key");h=$(r).attr("title");t=!0;for(e in f)a="K_"+e,a==l&&(o=u.createBeting({KeyCode:e,Odds:f[e]}),o.Amount=parseInt(c),o.DisplayName=s.isTmb==1?h.replace("A","B"):h,n.push(o))}r.find("input.betAmount").length>0&&r.find("input.betAmount").each(function(){var c=$(this).attr("key"),o=$(this).attr("title"),i=$(this).val(),r,h,e;if(i!=""){if(isNaN(i))return $(this).css("background-color","#FDFF37"),Dialog.Error("金额不是有效数字，请改正！",[]),!1;if(+i==0)return!1;t=!0;for(r in f)h="K_"+r,h==c&&(e=u.createBeting({KeyCode:r,Odds:f[r]}),e.Amount=parseInt(i),e.DisplayName=s.isTmb==1?o.replace("A","B"):o,n.push(e))}})})});n.length>0?u.taketicket(n):t?Dialog.Error("投注失败，已经关盘。",[]):Dialog.Error("检测到0条下注信息，请下注！",[]);i.removeAttr("disabled")},u.oddsTxtChange=function(){u.totalBetAmount()},u.btnsendClick01=function(){var n=$("#txtDefaultAmount1").val();if(n==""||isNaN(n))return!1;$("#txtDefaultAmount1").css("background-color","#FFFFFF");u.totalBetAmount()},u.checkGridClick=function(){var n=$(this).find("input[type='checkbox']"),t,i;if(n.length!=0&&!n.attr("disabled")){if(t=$("#lianXiao input[name='playmethod']:checked"),t!=undefined&&$(t).val()==2&&$("#txtDmNum").val()=="")return Dialog.Error("请输入胆拖数目！",[]),!1;i=n.prop("checked");i?$(this).removeClass("selected"):$(this).addClass("selected");n.prop("checked",!i);n.trigger("change")}},u.checkClick=function(n){n.stopPropagation()},u.cancelClick=function(){$(".menuf").each(function(){$(this).attr("is_check","false");$(this).css("background-color","#F7F7FB")});$("input[name='mf[]']").prop("checked",!1);it=new Map},u.loadOddsData=function(n,t,i,r){betInstance.btnCancelTicketclick&&betInstance.btnCancelTicketclick();$.extend(!0,t,{oddstype:betbase.gameType,companyId:betbase.companyId,lotteryType:_lotteryType,install:Installments});betInstance=this;a=n;l=i;b=r;u.setIType(t.itype);u.setMidType(t.midtype);s=t;$.ajax({type:"POST",dataType:"json",url:n,data:t}).done(betInstance.loadTemplate)},u.getBettingNum=function(n){$.ajax({type:"POST",dataType:"json",url:"/PlaceBet/BettingNumber",data:null,success:function(t){BETTING_NUM=t.State;n()},complete:function(){},error:function(){}})},u.getDisplayCode=function(n){if(n.indexOf("ZMT")==0)return n.substr(4)-0;var t=n.substr(n.length-2);return(isNaN(t)&&(t="0"+t[1]),n.indexOf("LM")>-1||n.indexOf("SB")>-1)?+t+50:+t},u.loadTemplate=function(n){if(u.setOddsSetting(n.data,!0),u.setOddsData(n),k==!1){$(".betAmount").unbind("change").change(u.oddsTxtChange);$(".button_a").button();$("[name='cancel']").unbind("click").click(u.cancelClick);$("#txtDefaultAmount1").unbind("focusout").focusout(u.btnsendClick01);$(".menuf").unbind("click").click(function(){var r=$(this).attr("flag_value")-0,e="#enabled_"+r,n,i,t,o;if(f){for(i in f)u.getDisplayCode(i)==r&&(n="K_"+i);t=$(".table_ball:not(.jj01) td").siblings("[key="+n+"]");t.hasClass("selected")?(t.removeClass("selected"),$("input[key="+n+"]").val(""),setQuikBetBox()):(t.addClass("selected"),o=$("input[key="+n+"]"),setValue(o));$(this).attr("is_check")=="false"?($(e).prop("checked",!0),$(this).css("background-color","#CCC"),$(this).attr("is_check","true")):($(this).attr("is_check","false"),$(e).prop("checked",!1),$(this).css("background-color","#F7F7FB"))}});$(".kxmf").unbind("change").change(function(){var n=this.value,i=[n],r=$(this).prop("checked");t(i,r)});$(".kxsx").unbind("change").change(function(){var n=this.value,i=$(this).prop("checked"),r=[getNumByAnimal(zodiacValue,n)];t(r,i)});function t(n,t){for(var v,c,e,o,i,l,r,s=[],a=$(".table_ball:not(.jj01) td"),h=0;h<n.length;h++)for(v=""+n[h],c=v.split(","),e=0;e<c.length;e++)s.push(c[e]-0);if(f)for(o=0;o<s.length;o++){i=s[o];t?($("#menuf_"+i).attr("is_check",!0).css("background-color","#CCC"),$("#enabled_"+i).prop("checked",!0)):($("#menuf_"+i).attr("is_check",!1).css("background-color","#F7F7FB"),$("#enabled_"+i).prop("checked",!1));for(l in f)i==u.getDisplayCode(l)&&(r="K_"+l,t?(a.siblings("[key="+r+"]").addClass("selected"),setValue($("input[key="+r+"]"))):(a.siblings("[key="+r+"]").removeClass("selected"),$("input[key="+r+"]").val(""),setQuikBetBox()))}}$(".jqys").unbind("change").change(function(){var n=""+this.value,f=$(this).prop("checked"),i=[],r=n.split(","),u;for(ix=0;ix<r.length;ix++)n=r[ix],u=getNumByAnimal(zodiacValue,n),i.push(u);t(i,f)});$("input[name=playmethod]").removeAttr("disabled");k=!0}},u.IniBetDatalist=function(){$("#"+e).dialog({autoOpen:!1,height:"450",maxHeight:620,width:"600",maxWidth:700,minHeight:200,minWidth:350,modal:!0,buttons:{"确定":u.betListOkClick,"取消":u.betlistFormCancel},create:function(){$(this).closest(".ui-dialog").find(".ui-button").css({height:"28px"})}});$("#"+e).dialog("option","buttons",[{text:"确定",click:betInstance.betListOkClick},{text:"取消",click:betInstance.betlistFormCancel}])},u.setLianmaMinMax=function(n,t){var r,i;if(t==1)for(r=0;r<n.length;r++)i=n[r],i.MidCode=="L2ZT"||i.MidCode=="L2ZTZ2"?$("#"+i.MidCode).html(i.MinOdds):i.MidCode=="L3Z2Z3"||i.MidCode=="L3Z2Z2"?$("#"+i.MidCode).html(i.MinOdds):i.MinOdds==i.MaxOdds?$("#"+i.MidCode).html(i.MinOdds):($("#min_"+i.MidCode).html(i.MinOdds),$("#max_"+i.MidCode).html(i.MaxOdds)),$("#"+i.MidCode).html(i.Odds)},u.markDanma=function(n){$(".checkClass").removeClass("danma");$.each(n,function(n,t){$(".checkClass").find("input[value='"+t+"']").parent().addClass("danma")})},u}},lxBetting={createNew:function(n,t,i,r){var v=r,l=1,h=[],e=2,o=1,f=[],s=[],c=0,a=!1,u=betbase.createNew(n,t,i,"");return u.getOddsLisId=function(){return v},u.getCode=function(){return l},u.setCode=function(n){l=n},u.getPlaymeth=function(){return o},u.getResultLP=function(){return h},u.getResultDM=function(){return f},u.getResultTM=function(){return s},u.getDanTuoNum=function(){return c},u.loadTemplate=function(n){u.setOddsSetting(n.data,!0);u.setOddsData(n);a==!1&&($("#btnReset").unbind("click").click(u.btnResetClick),$(".txtDefaultAmount").change(u.txtAmountChange),$(".playmethod").unbind("chang").change(u.radplaymethod),$("#txtDmNum").unbind("chang").change(u.txtDtNumChange).unbind("keyup").keyup(u.dtNumberKeyup),a=!0);$(".checkClass").unbind("click").click(u.checkGridClick);$(".radSx").unbind("click").click(u.radchanged);$(".chooseOdds").unbind("click").click(u.checkClick);$(".chooseOdds").unbind("change").change(u.chkChange);$("input[name=playmethod]").removeAttr("disabled")},u.radplaymethod=function(){var n=$(this).val();o=+n;u.empty();o==1?($("#dantuoReg").hide(),$(".status_panel").show(),$("#pnl_dp").hide(),u.disableCheckBox(!1,[])):o==2?($("#dantuoReg").show(),$(".status_panel").show(),$("#pnl_dp").hide(),u.disableCheckBox(!0,[])):o==3?($("#dantuoReg").hide(),$(".status_panel").hide(),$(".pnlDp").hide(),$("#pnl_dp").show(),$("#sxdp").show(),u.disableCheckBox(!0,[])):o==4?($("#dantuoReg").hide(),$(".status_panel").hide(),$(".pnlDp").hide(),$("#pnl_dp").show(),$("#wsdp").show(),u.disableCheckBox(!0,[])):o==5?($("#dantuoReg").hide(),$(".status_panel").hide(),$(".pnlDp").hide(),$("#pnl_dp").show(),$("#sxwsdp").show(),u.disableCheckBox(!0,[])):o==6&&($("#dantuoReg").hide(),$(".status_panel").hide(),$(".pnlDp").hide(),$("#pnl_dp").show(),$("#zydp").show(),u.disableCheckBox(!0,[]))},u.check=function(){if(u.chkChangeChoose(),h.sort(sortBySxCallback),s.sort(sortBySxCallback),f.sort(sortBySxCallback),o==1&&h.length<e)return Dialog.Error("选择"+u.itemName()+"数目不够(小于"+e+")，请选择"+u.itemName()+"！",[]),!1;if(o==2&&s.length+f.length<e)return Dialog.Error("选择"+u.itemName()+"数目不够(小于"+e+")，请选择"+u.itemName()+"！",[]),!1;var n=$("#txtDefaultAmount").val();return n==""?(Dialog.Error("请输入金额！",[]),$(".txtDefaultAmount").css("background-color","#FDFF37"),!1):isNaN(n)?(Dialog.Error("金额不是有效数字，请改正！",[]),$(".txtDefaultAmount").css("background-color","#FDFF37"),!1):($(".txtDefaultAmount").css("background-color","#FFFFFF"),isRepeat(h)||isRepeat(s)||isRepeat(f))?(Dialog.Error("不能选择重复"+u.itemName()+"！",[]),!1):!0},u.itemName=function(){return"生肖"},u.radchanged=function(){e=$(this).attr("num")-0;$(".radSx").removeClass("on");$(this).addClass("on");u.empty()},u.sumAmount=function(){var c=$("#txtDefaultAmount").val(),n,r,l,a,p,w,v,y,t,i;c=isNaN(c)?0:+c;n=0;r="";h.sort(sortBySxCallback);s.sort(sortBySxCallback);f.sort(sortBySxCallback);o==1?(n=comb(h.length,e),r="选择["+h.join(",")+"]"+h.length+"个"+u.itemName()+"，共"+n+"注，合计金额："+n*c):o==2?f.length==e?(n=1,r="选择胆码["+f.join(",")+"]"+f.length+"个"+u.itemName()+"，共"+n+"注，合计金额："+n*c,u.markDanma(f)):(n=comb(s.length,e-f.length),u.markDanma(f),r="选择胆码["+f.join(",")+"]"+f.length+"个"+u.itemName()+";拖码["+s.join(",")+"]"+s.length+"个"+u.itemName()+"，共"+n+"注，合计金额："+n*c):o==3?(l=$("#duipeng_sx1 input:checked").attr("numbers"),a=$("#duipeng_sx2 input:checked").attr("numbers"),l&&l!=""&&a&&a!=""?(p=$("#duipeng_sx1 input:checked").attr("sx"),w=$("#duipeng_sx2 input:checked").attr("sx"),n=u.duipeiCount(l,a),r="号码"+l+" 碰 "+a+"，共"+n+"注，合计金额："+n*c):(n=0,r="")):o==4?(t=$("#duipeng_ws1 input:checked").attr("numbers"),i=$("#duipeng_ws2 input:checked").attr("numbers"),t&&t!=""&&i&&i!=""?(v=$("#duipeng_ws1 input:checked").attr("ws"),y=$("#duipeng_ws2 input:checked").attr("ws"),n=u.duipeiCount(t,i),r="号码"+t+" 碰 "+i+"，共"+n+"注，合计金额："+n*c):(n=0,r="")):o==5?(t=$("#duipeng_sxws1 input:checked").attr("numbers"),i=$("#duipeng_sxws2 input:checked").attr("numbers"),t&&t!=""&&i&&i!=""?(v=$("#duipeng_sxws1 input:checked").attr("sxws"),y=$("#duipeng_sxws2 input:checked").attr("sxws"),n=u.duipeiCount(t,i),r="号码"+t+" 碰 "+i+"，共"+n+"注，合计金额："+n*c):(n=0,r="")):o==6&&(t=u.joinValue($("#duipeng_zydp input[otherId=zydp1]")),i=u.joinValue($("#duipeng_zydp input[otherId=zydp2]")),t&&t!=""&&i&&i!=""?(n=u.duipeiCount(t,i),r="号码"+t+" 碰 "+i+"，共"+n+"注，合计金额："+n*c):(n=0,r=""));$("#chooseItem").html(r);$("#chooseItem").show();$("#betcount").html(n)},u.duipeiCount=function(n,t){for(var o,c,r,s,i=n.split(","),u=t.split(","),f=[],h=0;h<i.length;h++)o=i[h],u.indexOf(o)>-1&&(u.remove(o),f.push(o));if(c=i.concat(u),r=comb(c.length,e),r-=comb(i.length,e),r-=comb(u.length,e),f.length>0){for(r+=comb(i.length,e),s=0;s<f.length;s++)i.remove(f[s]);r-=comb(i.length,e)}return r},u.duipeiBill=function(n,t){for(var p,w,o,b,v,c,a,u,s,h,i,f=n.split(","),l=t.split(","),y=[],r=0;r<f.length;r++)p=f[r],l.indexOf(p)>-1&&(l.remove(p),y.push(p));if(w=f.concat(l),w.sort(sortBySxCallback),o=[],w.length>=e&&(o=combine(w,e)),f.length>=e)for(f.sort(sortBySxCallback),b=combine(f,e),r=0;r<b.length;r++)for(a=b[r],u=o.length-1;u>-1;u--){for(s=o[u],h=!0,i=0;i<s.length;i++)if(a[i]!=s[i]){h=!1;break}h&&o.removeAt(u)}if(l.length>=e)for(l.sort(sortBySxCallback),c=combine(l,e),r=0;r<c.length;r++)for(a=c[r],u=o.length-1;u>-1;u--){for(s=o[u],h=!0,i=0;i<s.length;i++)if(a[i]!=s[i]){h=!1;break}h&&o.removeAt(u)}if(y.length>0){for(f.sort(sortBySxCallback),v=[],f.length>=e&&(v=combine(f,e)),i=0;i<y.length;i++)f.remove(y[i]);for(f.sort(sortBySxCallback),c=[],f.length>=e&&(c=combine(f,e)),r=0;r<c.length;r++)for(a=c[r],u=v.length-1;u>-1;u--){for(s=v[u],h=!0,i=0;i<s.length;i++)if(a[i]!=s[i]){h=!1;break}h&&v.removeAt(u)}o=o.concat(v)}return o.sort(),o},u.empty=function(n){map=new Map;h=[];s=[];f=[];$("#chooseItemDan").html("");n||($("#txtDmNum").val(""),c=0);$(".chooseOdds,.zodiac").each(function(n,t){$(t).prop("checked",!1);$(t).removeAttr("disabled");$(t).parent().removeClass("selected").removeClass("danma")});c==0&&o==2&&u.disableCheckBox(!0,[]);$(".c_sx").prop("checked",!1).removeAttr("disabled");$(".c_ws").prop("checked",!1).removeAttr("disabled");$(".c_sxws_sx,.c_sxws_ws").prop("checked",!1).removeAttr("disabled");$(".c_zydp").val("");$(".checkClass").removeClass("selected")},u.btnOkClick=function(){if(betbase.currentInstall.State!=1){Dialog.Error("已经关盘，请在开盘时投注！",[]);return}if(!u.check())return!1;u.openbet(u.getMidType())},u.oddUIOkClick=u.btnOkClick,u.btnResetClick=function(){u.empty()},u.txtAmountChange=function(){var n=$(this).val();if(isNaN(n)&&n!=""){$(this).css("background-color","#FDFF37");return}$(this).css("background-color","#FFFFFF");u.sumAmount()},u.chkChange=function(){u.chkChangeChoose()},u.chkChangeChoose=function(){if($(".chooseOdds").each(function(){var n=$(this).val(),t=$(this).prop("checked"),i;if(t?$(this).parent().addClass("selected"):$(this).parent().removeClass("selected"),o==1)t?h.indexOf(n)==-1&&h.push(n):h.remove(n);else{if(c>=e&&s.indexOf(n)==-1)return $(this).prop("checked",!1),!1;i=0;t&&(f.length<c||c==0)&&s.indexOf(n)==-1?(f.indexOf(n)==-1&&f.push(n),s.remove(n),u.chkEnable(e,f)):t?f.indexOf(n)==-1&&s.indexOf(n)==-1&&s.push(n):(s.remove(n),f.remove(n),u.chkEnable(e,f),c==0&&u.chkEnable(e,f))}}),o==1)if(u.MaxBetNums)h.length>=u.MaxBetNums&&u.disableCheckBox(!0,h);else{var n=comb(h.length,e);n>=MAX_BET?u.disableCheckBox(!0,h):u.disableCheckBox(!1,h)}else n=f.length==e?1:comb(s.length,e-f.length),n>=MAX_BET?u.disableCheckBox(!0,s.concat(f)):u.disableCheckBox(!1,s.concat(f));u.sumAmount()},u.txtDtNumChange=function(){var n=$(this).val();if(u.empty(!0),n=="")return c=0,$(this).css("background-color","#FFFFFF"),u.disableCheckBox(!0,[]),!1;if(isNaN(n))return c=0,$(this).css("background-color","#FDFF37"),u.disableCheckBox(!0,[]),!1;if(c=+n,c>=e)return $(this).css("background-color","#FDFF37"),Dialog.Error("胆码数目不超过"+(e-1),[]),u.disableCheckBox(!0,[]),!1;if(c==0)return $(this).css("background-color","#FDFF37"),u.disableCheckBox(!0,[]),!1;u.disableCheckBox(!1,[]);$(this).css("background-color","#FFFFFF")},u.dtNumberKeyup=function(){if(this.value=this.value.replace(/[^\d.-]/g,""),this.value=this.value.replace(/^\./g,""),this.value=this.value.replace(/\.{2,}/g,"."),this.value=this.value.replace(".","$#$").replace(/\./g,"").replace("$#$","."),this.value!="")if(isNaN(this.value))c=0,$(this).css("background-color","#FDFF37"),u.disableCheckBox(!0,[]);else{if(c=this.value-0,c>=e||c==0)return $(this).css("background-color","#FDFF37"),u.disableCheckBox(!0,[]),!0;$(this).css("background-color","#FFFFFF");u.disableCheckBox(!1,[])}else c=0,u.disableCheckBox(!0,[]);return!0},u.chkEnable=function(n,t){t.length>=n?$(".chooseOdds").each(function(n,i){t.indexOf($(i).val())==-1?$(i).attr("disabled","disabled"):$(i).prop("checked")&&$(i).removeAttr("disabled")}):$(".chooseOdds").removeAttr("disabled")},u.disableCheckBox=function(n,t){n?$(".chooseOdds").each(function(n,i){t.indexOf($(i).val())==-1?$(i).attr("disabled","disabled"):$(i).prop("checked")&&$(i).removeAttr("disabled")}):$(".chooseOdds").removeAttr("disabled")},u.findMinOddsValue=function(n,t,i){var r,e,u,o,f;if(!n)return r;if(n.multiLm==1)for(u=0;u<n.length;u++)e=n[u],f=$("#enabled_"+e.KeyCode).val(),(t.indexOf(f)>-1||i&&i.indexOf(f)>-1)&&(r&&r.Odds>e.Odds?r=e:r||(r=e));else for(u in n)o=n[u],f=$("#enabled_"+u).val(),(t.indexOf(f)>-1||i&&i.indexOf(f)>-1)&&(r&&r.Odds>o?(r.Odds=o,r.KeyCode=u):r||(r={Odds:o,KeyCode:u}));return r},u.findMaxOddsValue=function(n,t,i){var r,u,f,e;if(!n)return r;for(u in n)f=n[u],e=$("#enabled_"+u).val(),(t.indexOf(e)>-1||i&&i.indexOf(e)>-1)&&(r&&r.Odds<f?(r.Odds=f,r.KeyCode=u):r||(r={Odds:f,KeyCode:u}));return r},u.openbet=function(){var p,t,i,r,n;betInstance=this;var a=[],y=u.getOddsSetting(),l=$("#txtDefaultAmount").val();if(l!=""){if(l=+l,o==1)p=comb(h.length,e),t=u.findMinOddsValue(y,h),t&&(n=u.createBeting(t),n.Amount=l*p,n.DisplayName=u.midName+" [复式]--"+h.join(","),n.DuplexNum=h.join(","),n.DuplexType=1,p==1&&(n.DuplexType=undefined,n.DuplexNum=undefined,n.DisplayName=u.midName+"--"+h.join(",")),a.push(n));else if(o==2)c==0?(t=u.findMinOddsValue(y,f),t&&(n=u.createBeting(t),n.Amount=l,n.DisplayName=u.midName+"--"+f.join(","),n.DuplexType=0,a.push(n))):(p=comb(s.length,e-f.length),t=u.findMinOddsValue(y,s,f),t&&(n=u.createBeting(t),n.Amount=l*p,n.DisplayName=u.midName+"--"+f.join(",")+"[胆] "+s.join(",")+"[拖]",n.DuplexNum=f.join(",")+"|"+s.join(","),n.DuplexType=2,p==1&&(n.DuplexType=undefined,n.DuplexNum=undefined,n.DisplayName=u.midName+"--"+f.join(",")+","+s.join(",")),a.push(n)));else if(o==3){var g=$("#duipeng_sx1 input:checked").attr("numbers"),nt=$("#duipeng_sx2 input:checked").attr("numbers"),w=$("#duipeng_sx1 input:checked").attr("sx"),b=$("#duipeng_sx2 input:checked").attr("sx");if(w&&w!=""&&b&&b!=""){var v=u.duipeiBill(g,nt),k=v[0],t=u.findMinOddsValue(y,k,f);t&&(n=u.createBeting(t),n.Amount=l*v.length,n.DisplayName=u.midName+"--"+w+"碰"+b,n.DuplexNum=w+"|"+b,n.DuplexType=3,a.push(n))}else return}else if(o==4){var d=$("#duipeng_ws1 input:checked").attr("numbers"),tt=$("#duipeng_ws2 input:checked").attr("numbers"),i=$("#duipeng_ws1 input:checked").attr("ws"),r=$("#duipeng_ws2 input:checked").attr("ws");if(i&&i!=""&&r&&r!=""){var v=u.duipeiBill(d,tt),k=v[0],t=u.findMinOddsValue(y,k,f);t&&(n=u.createBeting(t),n.Amount=l*v.length,n.DisplayName=u.midName+"--"+i+"碰"+r,n.DuplexNum=i+"|"+r,n.DuplexType=4,a.push(n))}else return}else if(o==5){var d=$("#duipeng_sxws1 input:checked").attr("numbers"),it=$("#duipeng_sxws2 input:checked").attr("numbers"),i=$("#duipeng_sxws1 input:checked").attr("sxws"),r=$("#duipeng_sxws2 input:checked").attr("sxws");if(i&&i!=""&&r&&r!=""){var v=u.duipeiBill(d,it),k=v[0],t=u.findMinOddsValue(y,k,f);t&&(n=u.createBeting(t),n.Amount=l*v.length,n.DisplayName=u.midName+"--"+i+"碰"+r,n.DuplexNum=i+"|"+r,n.DuplexType=5,a.push(n))}else return}else if(o==6)if($(".c_zydp").blur(),i=u.joinValue($("#duipeng_zydp input[otherId=zydp1]")),r=u.joinValue($("#duipeng_zydp input[otherId=zydp2]")),i&&i!=""&&r&&r!=""){var v=u.duipeiBill(i,r),k=v[0],t=u.findMinOddsValue(y,k,f);t&&(n=u.createBeting(t),n.Amount=l*v.length,n.DisplayName=u.midName+"--"+i+"碰"+r,n.DuplexNum=i+"|"+r,n.DuplexType=6,a.push(n))}else return;a.length>0&&u.taketicket(a)}},u.setNum=function(n){e=n},betInstance=u,u}},hxBetting={createNew:function(n,t,i){var e=1,f="",o=[],s=!1,u=new Map,r;return u.put("1肖中",1),u.put("1肖不中",1),u.put("2肖中",2),u.put("2肖不中",2),u.put("3肖中",3),u.put("3肖不中",3),u.put("4肖中",4),u.put("4肖不中",4),u.put("5肖中",5),u.put("5肖不中",5),u.put("6肖中",6),u.put("6肖不中",6),u.put("7肖中",7),u.put("7肖不中",7),u.put("8肖中",8),u.put("8肖不中",8),u.put("9肖中",9),u.put("9肖不中",9),u.put("10肖中",10),u.put("10肖不中",10),u.put("11肖中",11),u.put("11肖不中",11),r=lxBetting.createNew(n,t,i,""),r.itemName=function(){return"生肖"},r.midName=function(){return"合肖"},r.loadTemplate=function(n){var t=n.data;r.setOddsSetting(n.data,!0);r.setOddsData(n);s==!1&&($("#btnReset").unbind("click").click(r.btnResetClick),$(".txtDefaultAmount").change(r.txtAmountChange),$(".playmethod").unbind("chang").change(r.radplaymethod).attr("disabled","disabled"),$("#txtDmNum").unbind("chang").change(r.txtDtNumChange).unbind("keyup").keyup(r.dtNumberKeyup),s=!0);$(".checkClass").unbind("click").click(r.checkGridClick);$(".chooseOdds").unbind("click").click(r.checkClick);$(".chooseOdds").unbind("change").change(r.chkChange);$(".group1").unbind("change").change(r.radchanged);f=$("#oddsListId1 .group1:checked").data("key")||"";e=$("#oddsListId1 .group1:checked").val()||"";f!=""?(r.setNum(u.get(e)),r.midName=e):r.disableCheckBox(!0,[])},r.check=function(){var n,t;if(f==""&&Dialog.Error("请选择投注类型！",[]),o=r.getResultLP(),n=$("#txtDefaultAmount").val(),n=="")return $(".txtDefaultAmount").css("background-color","#FDFF37"),Dialog.Error("请输入金额！",[]),!1;if(isNaN(n))return $(".txtDefaultAmount").css("background-color","#FDFF37"),Dialog.Error("金额不正确！",[]),!1;if(+n==0)return $(".txtDefaultAmount").css("background-color","#FDFF37"),Dialog.Error("金额要大于0！",[]),!1;if(t=r.getPlaymeth(),t==1){if(o.length<u.get(e))return Dialog.Error("选择生肖数目不够，请选择生肖！",[]),!1;o.length>u.get(e)}return $(".txtDefaultAmount").css("background-color","#FFFFFF"),!0},r.radchanged=function(){f=$(this).data("key");e=$(this).val();r.midName=e;r.setNum(u.get(e));r.empty();$(".playmethod").removeAttr("disabled")},r.openbet=function(){var o,s,i,n;if(betInstance=this,o=[],betbase.currentInstall.State!=1){Dialog.Error("已经关盘，请在开盘时投注！",[]);return}var t=r.getOddsSetting(),c=$("#txtDefaultAmount").val()-0,v=r.getPlaymeth(),a=u.get(e);if(v==1)s=r.getResultLP(),t&&t[f]&&(i=combine(s,a),n=r.createBeting({KeyCode:f,Odds:t[f]}),n.Amount=c*i.length,n.DisplayName=r.midName+"[复式]--"+s.join(","),n.DuplexType=1,n.DuplexNum=s.join(","),i.length==1&&(n.DisplayName=r.midName+"--"+s.join(","),n.DuplexType=undefined,n.DuplexNum=undefined),o.push(n));else{var y=r.getDanTuoNum(),h=r.getResultDM(),l=r.getResultTM();y==0?t&&t[f]&&(n=r.createBeting({KeyCode:f,Odds:t[f]}),n.Amount=c,n.DisplayName=r.midName+"--"+h.join(","),o.push(n)):(i=combine(l,a-h.length),t&&t[f]&&(n=r.createBeting({KeyCode:f,Odds:t[f]}),n.Amount=c*i.length,n.DisplayName=r.midName+"--"+h.join(",")+"[胆] "+l.join(",")+"[拖]",n.DuplexNum=h.join(",")+"|"+l.join(","),n.DuplexType=2,i.length==1&&(n.DisplayName=r.midName+"--"+h.join(",")+","+i[0].join(","),n.DuplexNum=undefined,n.DuplexType=undefined),o.push(n)))}o.length>0&&r.taketicket(o)},r}},zxbzBetting={createNew:function(n,t,i,r,u){var f=lxBetting.createNew(n,t,i,"total");return f.MaxBetNums=u,f.itemName=function(){return"号码"},f.midName=function(){return"自选不中"},f}},lwBetting={createNew:function(n,t,i){var r=lxBetting.createNew(n,t,i,"");return r.itemName=function(){return"尾数"},r.midName=function(){return"连尾"},r}},lmBetting={createNew:function(n,t,i){var r=lxBetting.createNew(n,t,i,"");return r.loadTemplate=function(n){n.data&&n.data.list?r.setOddsSetting(n.data.list,!0,1):r.setOddsSetting(n.data,!0);r.setOddsData(n);$(".chooseOdds").unbind("click").click(r.checkClick);$(".chooseOdds").unbind("change").change(r.chkChange);betbase.showLmOdds-0==0&&$(".oddsDis").hide();$(".group1").unbind("change").change(r.radchanged);$(".checkClass").unbind("click").click(r.checkGridClick);$(".c_sx").unbind("change").change(function(){var n=$(this).attr("otherId"),t=$(this).attr("sx");$("#"+n+" input").removeAttr("disabled");$("#"+n+" input[sx='"+t+"']").attr("disabled","disabled");r.sumAmount()});$(".c_ws").unbind("change").change(function(){var n=$(this).attr("otherId"),t=$(this).attr("ws");$("#"+n+" input").removeAttr("disabled");$("#"+n+" input[ws='"+t+"']").attr("disabled","disabled");r.sumAmount()});$(".c_sxws").unbind("change").change(function(){r.sumAmount()});$(".c_zydp").unbind("change").change(function(){var u=$(this).attr("otherId"),n=$(this).val(),i=$(this).attr("id"),t=this;if(n==""){r.sumAmount();return}isNaN(n)&&$(t).val("");+n>49&&$(t).val("");+n<=0&&$(t).val("");n=+n;$("#duipeng_zydp input").each(function(){var u=$(this).attr("id"),r;i!=u&&(r=$(this).val()-0,r==n&&$(t).val(""))});r.sumAmount()});$(".c_zydp").unbind("keyup").keyup(function(){var r=$(this).attr("otherId"),n=$(this).val(),i=$(this).attr("id"),t=this;if(n!=""){if(isNaN(n)){$(t).val("");return}if(+n>49){$(t).val("");return}$("#duipeng_zydp input").each(function(){var u=$(this).attr("id"),r;i!=u&&(r=$(this).val(),r==n&&$(t).val(""))})}});$(".sxws,.c_ws,.c_sx").unbind("click").click(function(){$(this).find("input").prop("checked",!0).change()});$("#btnReset").unbind("click").click(r.btnResetClick);$(".txtDefaultAmount").change(r.txtAmountChange);$(".playmethod").unbind("chang").change(r.radplaymethod);$("#txtDmNum").unbind("chang").change(r.txtDtNumChange).unbind("keyup").keyup(r.dtNumberKeyup);$("input[name=playmethod]").removeAttr("disabled")},r.joinValue=function(n){var t="";return n.each(function(){if($(this).val()!=""){var n=$(this).val()-0;if(n=n<10?"0"+n:n+"",t.indexOf(n)>-1){$(this).val("");return}t==""?t=n:t+=","+n}}),t},r.radchanged=function(){var n=$(this).attr("tpage");window.location.href=baseUrl+"/PlaceBet/Index?lotteryType="+_lotteryType+"&page=lma&tpage="+n+"&pk="+betbase.gameType},r.itemName=function(){return"号码"},r.midName=function(){return"连码"},r}},fcLmwBetting={createNew:function(n,t,i,r){var u=hxBetting.createNew(n,t,i,r);return u.setLianmaMinMax=function(n,t){var r,i;if(t==1)for(r=0;r<n.length;r++)i=n[r],i.MidCode=="L2ZT"||i.MidCode=="L2ZTZ2"?$("#"+i.MidCode).html(i.MinOdds):i.MidCode=="L3Z2Z3"||i.MidCode=="L3Z2Z2"?$("#"+i.MidCode).html(i.MinOdds):i.MinOdds==i.MaxOdds?$("#"+i.MidCode).html(i.MinOdds):$("#min_"+i.MidCode).length>0?($("#min_"+i.MidCode).html(i.MinOdds),$("#max_"+i.MidCode).html(i.MaxOdds)):$("#"+i.MidCode).html(i.MinOdds),i.Odds&&$("#"+i.MidCode).html(i.Odds)},u}},fc7PzLmwBetting={createNew:function(n,t,i,r){var u=lmBetting.createNew(n,t,i,r);return u.setLianmaMinMax=function(n,t){var r,i;if(t==1)for(r=0;r<n.length;r++)i=n[r],i.MidCode=="L2ZT"||i.MidCode=="L2ZTZ2"?$("#"+i.MidCode).html(i.MinOdds):i.MidCode=="L3Z2Z3"||i.MidCode=="L3Z2Z2"?$("#"+i.MidCode).html(i.MinOdds):i.MinOdds==i.MaxOdds?$("#"+i.MidCode).html(i.MinOdds):$("#min_"+i.MidCode).length>0?($("#min_"+i.MidCode).html(i.MinOdds),$("#max_"+i.MidCode).html(i.MaxOdds)):$("#"+i.MidCode).html(i.MinOdds),i.Odds&&$("#"+i.MidCode).html(i.Odds)},u}},qxcBetting={createNew:function(n,t,i,r){var u=betbase.createNew(n,t,i,r),f=!1;return u.setDefaultAmount=function(n){f=n},u.btnOkClick=function(){var n,r;if(betbase.currentInstall.State!=1){Dialog.Error("已经关盘，请在开盘时投注！",[]);return}n=$(".buttonOk");n.attr("disabled",!0);var t=[],e=!1,i=$("#txtDefaultAmount").val();if(f){if(i=="")return Dialog.Error("请输入金额！",[]),$(".txtDefaultAmount").css("background-color","#FDFF37"),!1;if(isNaN(i))return Dialog.Error("金额不是有效数字，请改正！",[]),$(".txtDefaultAmount").css("background-color","#FDFF37"),!1;$(".txtDefaultAmount").css("background-color","#FFFFFF")}r=u.getOddsSetting();$(".table_betbox tbody").each(function(){for(var o=$(this).find("tr td").length,n=0;n<o;n++)$(this).find("tr").each(function(){var o=$(this).find("td").eq(n);o.find("input.betAmount").length>0&&o.find("input.betAmount").each(function(){var c=$(this).attr("key"),l=$(this).attr("title"),n=f?i:$(this).val(),o,h,s;if(n!=""){if(isNaN(n))return $(this).css("background-color","#FDFF37"),Dialog.Error("金额不是有效数字，请改正！",[]),!1;if(+n==0)return!1;e=!0;for(o in r)h="K_"+o,h==c&&(s=u.createBeting({KeyCode:o,Odds:r[o]}),s.Amount=parseInt(n),s.DisplayName=l,t.push(s))}})})});t.length>0?u.taketicket(t):e?Dialog.Error("投注失败，已经关盘。",[]):Dialog.Error("检测到0条下注信息，请下注！",[]);n.removeAttr("disabled")},u.oddUIOkClick=u.btnOkClick,u.btnksModelOkclick=function(){var n;if(betbase.currentInstall.State!=1){Dialog.Error("已经关盘，请在开盘时投注！",[]);return}n=$(".buttonOk");n.attr("disabled",!0);var t=[],i=!1,r=u.getOddsSetting();$(".table_betbox tbody td").each(function(){var s=$(this).find("input.betAmount").attr("key"),h=$(this).find("input.betAmount").attr("title"),n=$(this).find("input.betAmount").val(),f,o,e;if(n){if(isNaN(n))return $(this).css("background-color","#FDFF37"),Dialog.Error("金额不是有效数字，请改正！",[]),!1;if(+n==0)return!1;i=!0;for(f in r)o="K_"+f,o==s&&(e=u.createBeting({KeyCode:f,Odds:r[f]}),e.Amount=parseInt(n),e.DisplayName=h,t.push(e))}});t.length>0?u.taketicket(t):i?Dialog.Error("投注失败，已经关盘。",[]):Dialog.Error("检测到0条下注信息，请下注！",[]);n.removeAttr("disabled")},u.btnkxOkclick=function(){var h,l,i,a,t,v,n;if(betbase.currentInstall.State!=1){Dialog.Error("已经关盘，请在开盘时投注！",[]);return}h=$(".buttonOk");h.attr("disabled",!0);var c=[],e=!1,r=$("#txtDefaultAmount").val();if(f){if(r=="")return Dialog.Error("请输入金额！",[]),$(".txtDefaultAmount").css("background-color","#FDFF37"),!1;if(isNaN(r))return Dialog.Error("金额不是有效数字，请改正！",[]),$(".txtDefaultAmount").css("background-color","#FDFF37"),!1;$(".txtDefaultAmount").css("background-color","#FFFFFF")}var y=u.getOddsSetting(),o=function(n,t,i){var r,e,f;for(r in y)e="K_"+r,e==n&&(f=u.createBeting({KeyCode:r,Odds:y[r]}),f.Amount=parseInt(i),f.DisplayName=t,c.push(f))},p=$("input[name=n1str]").val(),s=[];p.startsWith(",")&&(s=p.substr(1).split(","));l=$("input[name=n2str]").val();i=[];l.startsWith(",")&&(i=l.substr(1).split(","));a=$("input[name=n4str]").val();t=[];a.startsWith(",")&&(t=a.substr(1).split(","));v=$("input[name=n8str]").val();n=[];v.startsWith(",")&&(n=v.substr(1).split(","));switch(oGame.ntype){case"0XXX":n.length>0&&n.map(function(n){var t="K_DW1_"+n+"XXX",i="一字定位--"+n+"XXX",u=r;e=!0;o(t,i,u)});break;case"X0XX":t.length>0&&t.map(function(n){var t="K_DW1_X"+n+"XX",i="一字定位--_X"+n+"XX",u=r;e=!0;o(t,i,u)});break;case"XX0X":i.length>0&&i.map(function(n){var t="K_DW1_XX"+n+"X",i="一字定位--_XX"+n+"X",u=r;e=!0;o(t,i,u)});break;case"XXX0":s.length>0&&s.map(function(n){var t="K_DW1_XXX"+n,i="一字定位--_XXX"+n,u=r;e=!0;o(t,i,u)});break;case"00XX":n.length>0&&t.length>0&&n.map(function(n){t.map(function(t){var i="K_DW2_"+n+t+"XX",u="二字定位--"+n+t+"XX",f=r;e=!0;o(i,u,f)})});break;case"0X0X":n.length>0&&i.length>0&&n.map(function(n){i.map(function(t){var i="K_DW2_"+n+"X"+t+"X",u="二字定位--"+n+"X"+t+"X",f=r;e=!0;o(i,u,f)})});break;case"0XX0":n.length>0&&s.length>0&&n.map(function(n){s.map(function(t){var i="K_DW2_"+n+"XX"+t,u="二字定位--"+n+"XX"+t,f=r;e=!0;o(i,u,f)})});break;case"X00X":t.length>0&&i.length>0&&t.map(function(n){i.map(function(t){var i="K_DW2_X"+n+t+"X",u="二字定位--X"+n+t+"X",f=r;e=!0;o(i,u,f)})});break;case"X0X0":t.length>0&&s.length>0&&t.map(function(n){s.map(function(t){var i="K_DW2_X"+n+"X"+t,u="二字定位--X"+n+"X"+t,f=r;e=!0;o(i,u,f)})});break;case"XX00":i.length>0&&s.length>0&&i.map(function(n){s.map(function(t){var i="K_DW2_XX"+n+t,u="二字定位--XX"+n+t,f=r;e=!0;o(i,u,f)})});break;case"000X":n.length>0&&t.length>0&&i.length>0&&n.map(function(n){t.map(function(t){i.map(function(i){var u="K_DW3_"+n+t+i+"X",f="三字定位--"+n+t+i+"X",s=r;e=!0;o(u,f,s)})})});break;case"00X0":n.length>0&&t.length>0&&s.length>0&&n.map(function(n){t.map(function(t){s.map(function(i){var u="K_DW3_"+n+t+"X"+i,f="三字定位--"+n+t+"X"+i,s=r;e=!0;o(u,f,s)})})});break;case"0X00":n.length>0&&i.length>0&&s.length>0&&n.map(function(n){i.map(function(t){s.map(function(i){var u="K_DW3_"+n+"X"+t+i,f="三字定位--"+n+"X"+t+i,s=r;e=!0;o(u,f,s)})})});break;case"X000":t.length>0&&i.length>0&&s.length>0&&t.map(function(n){i.map(function(t){s.map(function(i){var u="K_DW3_X"+n+t+i,f="三字定位--X"+n+t+i,s=r;e=!0;o(u,f,s)})})});break;case"0000":n.length>0&&t.length>0&&i.length>0&&s.length>0&&n.map(function(n){t.map(function(t){i.map(function(i){s.map(function(u){var f="K_DW4_"+n+t+i+u,s="四字定位--"+n+t+i+u,h=r;e=!0;o(f,s,h)})})})});break;case"0000R":n.length>0&&t.length>0&&i.length>0&&s.length>0&&n.map(function(n){t.map(function(t){i.map(function(i){s.map(function(u){var f="K_Z4_"+n+t+i+u,s="四字--"+n+t+i+u,h=r;e=!0;o(f,s,h)})})})});break;case"0":n.length>0&&n.map(function(n){var t="K_Z1_"+n,i="一字--"+n,u=r;e=!0;o(t,i,u)});break;case"00":n.length>0&&t.length>0&&n.map(function(n){t.map(function(t){if(n<t){var i="K_Z2_"+n+t,u="二字--"+n+t,f=r;e=!0;o(i,u,f)}})});break;case"000":n.length>0&&t.length>0&&i.length>0&&n.map(function(n){t.map(function(t){i.map(function(i){if(n<t&&t<i){var u="K_Z3_"+n+t+i,f="三字--"+n+t+i,s=r;e=!0;o(u,f,s)}})})})}c.length>0?u.taketicket(c):e?Dialog.Error("投注失败，已经关盘。",[]):Dialog.Error("检测到0条下注信息，请下注！",[]);h.removeAttr("disabled")},u.btnkx2Okclick=function(){var n,r;if(betbase.currentInstall.State!=1){Dialog.Error("已经关盘，请在开盘时投注！",[]);return}n=$(".buttonOk");n.attr("disabled",!0);var t=[],e=!1,i=$("#order_gold").val();if(f){if(i=="")return Dialog.Error("请输入金额！",[]),$(".order_gold").css("background-color","#FDFF37"),!1;if(isNaN(i))return Dialog.Error("金额不是有效数字，请改正！",[]),$(".order_gold").css("background-color","#FDFF37"),!1;$(".order_gold").css("background-color","#FFFFFF")}r=u.getOddsSetting();$("#num_area span").each(function(){var s=oGame.key+$(this).text().trim(),h=oGame.title+$(this).text().trim(),c=i,n,o,f;for(n in r)o="K_"+n,o==s&&(f=u.createBeting({KeyCode:n,Odds:r[n]}),f.Amount=parseInt(c),f.DisplayName=h,t.push(f),e=!0)});t.length>0?u.taketicket(t):e?Dialog.Error("投注失败，已经关盘。",[]):Dialog.Error("检测到0条下注信息，请下注！",[]);n.removeAttr("disabled")},u}},vnBetting={createNew:function(n,t,i,r){var u=betbase.createNew(n,t,i,r);return u.btnjdOkClick=function(){var n;if(betbase.currentInstall.State!=1){Dialog.Error("已经关盘，请在开盘时投注！",[]);return}n=$(".buttonOk");n.attr("disabled",!0);var t=[],i=!1,r=u.getOddsSetting();$(".table_betbox tbody tr").each(function(){var n=$(this).find("td.zonger").text().trim();n&&$(this).find("input.c_input__inner").each(function(){var n,f;if(!$(this).is(":disabled")){var o=$(this).attr("key"),s=$(this).attr("title"),e=$(this).val();if(e){if(isNaN(e))return $(this).css("background-color","#FDFF37"),Dialog.Error("金额不是有效数字，请改正！",[]),!1;i=!0;for(n in r)n==o&&(f=u.createBeting({KeyCode:n,Odds:r[n]}),f.Amount=parseInt(e),f.Total=parseInt(e)*vnBetting.methodVal[n],f.DisplayName=s,t.push(f))}}})});t.length>0?u.taketicket(t):i?Dialog.Error("投注失败，已经关盘。",[]):Dialog.Error("检测到0条下注信息，请下注！",[]);n.removeAttr("disabled")},u.btnKXOkClick=function(){var n;if(betbase.currentInstall.State!=1){Dialog.Error("已经关盘，请在开盘时投注！",[]);return}n=$(".buttonOk");n.attr("disabled",!0);var t=[],i=!1,r=u.getOddsSetting();$(".gr_old-container .gr_old-num--item.is_active").each(function(){var n=$(this).find("span").text().trim();$(".el-checkbox").each(function(){var f,e;if($(this).find(".el-checkbox__input").hasClass("is-checked")){var s=$(this).find(".el-checkbox__input").attr("key"),h=$(this).find(".el-checkbox__input").attr("title")+" --"+n,o=$("#txtDefaultAmount").val();if(o){if(isNaN(o))return $(this).css("background-color","#FDFF37"),Dialog.Error("金额不是有效数字，请改正！",[]),!1;i=!0;for(f in r)f==s&&(e=u.createBeting({KeyCode:f,Odds:r[f]}),e.Amount=parseInt(o),e.Total=parseInt(o)*vnBetting.methodVal[f],e.DisplayName=h,t.push(e))}}})});t.length>0?u.taketicket(t):i?Dialog.Error("投注失败，已经关盘。",[]):Dialog.Error("检测到0条下注信息，请下注！",[]);n.removeAttr("disabled")},u.kxtype="PL2",u.btnKXplOkClick=function(){var t,e;if(betbase.currentInstall.State!=1){Dialog.Error("已经关盘，请在开盘时投注！",[]);return}t=$(".buttonOk");t.attr("disabled",!0);var i=[],r=!1,f=u.getOddsSetting(),n=[];$(".gr_old-container .gr_old-num--item.is_active").each(function(){var t=$(this).find("span").text().trim();n.push(t)});(u.kxtype=="PL2"&&n.length>=2||u.kxtype=="PL3"&&n.length>=3)&&(e=combine(n,u.kxtype=="PL2"?2:3),e.map(function(n){var h=u.kxtype=="PL2"?"PL2_BZ":"PL3_BZ",s=n.join(","),c=u.kxtype=="PL2"?"PL2 包组 --"+s:"PL3 包组 --"+s,o=$("#txtDefaultAmount").val(),t,e;if(o){if(isNaN(o))return $(this).css("background-color","#FDFF37"),Dialog.Error("金额不是有效数字，请改正！",[]),!1;for(t in f)t==h&&(r=!0,e=u.createBeting({KeyCode:t,Odds:f[t]}),e.Amount=parseInt(o),e.Total=parseInt(o)*vnBetting.methodVal[t],e.DisplayName=c,i.push(e))}}));i.length>0?u.taketicket(i):r?Dialog.Error("投注失败，已经关盘。",[]):Dialog.Error("检测到0条下注信息，请下注！",[]);t.removeAttr("disabled")},u.xqBall=2,u.btnxqOkClick=function(){var t,i,r,n,h;if(betbase.currentInstall.State!=1){Dialog.Error("已经关盘，请在开盘时投注！",[]);return}t=$(".buttonOk");t.attr("disabled",!0);var f=[],o=!1,s=u.getOddsSetting(),e=[];if($(".el-checkbox").each(function(){if($(this).find(".el-checkbox__input").hasClass("is-checked")){var n=$(this).find(".el-checkbox__input").attr("key"),t=$(this).find(".el-checkbox__input").attr("title");e.push({key:n,title:t})}}),e.length==0)return Dialog.Error("请选择投注类型！！",[]),t.removeAttr("disabled"),!1;for(i=[],$(".gr_game-vn--balls__section").each(function(){var n=[];$(this).find(".gr_body__group li .is_active").each(function(){n.push($(this).find("span").text().trim())});i.push(n)}),r=[],n=0;n<this.xqBall;n++)i[n].length>0&&r.push(i[n]);r.length==this.xqBall&&(h=ChooseArrs(r),$(h).each(function(n,t){var i=t.join("");$.each(e,function(n,t){var c=t.key,l=t.title+" --"+i,h=$("#txtDefaultAmount").val(),r,e;if(h){if(isNaN(h))return $(this).css("background-color","#FDFF37"),Dialog.Error("金额不是有效数字，请改正！",[]),!1;o=!0;for(r in s)r==c&&(e=u.createBeting({KeyCode:r,Odds:s[r]}),e.Amount=parseInt(h),e.Total=parseInt(h)*vnBetting.methodVal[r],e.DisplayName=l,f.push(e))}})}));f.length>0?u.taketicket(f):o?Dialog.Error("投注失败，已经关盘。",[]):Dialog.Error("检测到0条下注信息，请下注！",[]);t.removeAttr("disabled")},u.btnktOkClick=function(){var r,i,o,a,v,n,t;if(betbase.currentInstall.State!=1){Dialog.Error("已经关盘，请在开盘时投注！",[]);return}r=$(".buttonOk");r.attr("disabled",!0);var f=[],s=!1,e=$("#txtDefaultAmount").val();if(isNaN(e))return $(this).css("background-color","#FDFF37"),Dialog.Error("金额不是有效数字，请改正！",[]),!1;var h=u.getOddsSetting(),y=$("#choosed_Single .pannel").text(),c=y.split(",").filter(function(n){return n!=""}),l=$(".tab_title02 a.on").attr("value"),p=$(".tab_title02 a.on").attr("len");for(i=0;i<c.length;i++)if(o=c[i],o.length==p){a=l+"_BZ";v=l+" 包组 --"+o;s=!0;for(n in h)n==a&&(t=u.createBeting({KeyCode:n,Odds:h[n]}),t.Amount=parseInt(e),t.Total=parseInt(e)*vnBetting.methodVal[n],t.DisplayName=v,f.push(t))}f.length>0?u.taketicket(f):s?Dialog.Error("投注失败，已经关盘。",[]):Dialog.Error("检测到0条下注信息，请下注！",[]);r.removeAttr("disabled")},u},methodVal:{"2D_T":4,"2D_W":1,"2D_TW":5,"2D_BZ":27,"3D_T":3,"3D_W":1,"3D_TW":4,"3D_BZ":23,"4D_T":0,"4D_W":1,"4D_TW":0,"4D_BZ":20,PL2_BZ:54,PL3_BZ:81,TS_T_DA:200,TS_W_DA:50,TS_TW_DA:250,TS_BZ_DA:1350,TS_T_X:200,TS_W_X:50,TS_TW_X:250,TS_BZ_X:1350,TS_T_D:200,TS_W_D:50,TS_TW_D:250,TS_BZ_D:1350,TS_T_S:200,TS_W_S:50,TS_TW_S:250,TS_BZ_S:1350,TS_T_DAD:100,TS_W_DAD:25,TS_TW_DAD:125,TS_BZ_DAD:675,TS_T_DAS:100,TS_W_DAS:25,TS_TW_DAS:125,TS_BZ_DAS:675,TS_T_XD:100,TS_W_XD:25,TS_TW_XD:125,TS_BZ_XD:675,TS_T_XS:100,TS_W_XS:25,TS_TW_XS:125,TS_BZ_XS:675,TS_T_DD:100,TS_W_DD:25,TS_TW_DD:125,TS_BZ_DD:675,TS_T_SS:100,TS_W_SS:25,TS_TW_SS:125,TS_BZ_SS:675,TS_T_DS:100,TS_W_DS:25,TS_TW_DS:125,TS_BZ_DS:675,TS_T_SD:100,TS_W_SD:25,TS_TW_SD:125,TS_BZ_SD:675,TS_T_N:200,TS_W_N:50,TS_TW_N:250,TS_BZ_N:1350,TS_T_W:200,TS_W_W:50,TS_TW_W:250,TS_BZ_W:1350}};Array.indexOf||Array.prototype&&(Array.prototype.indexOf=function(n){for(var t=0;t<this.length;t++)if(this[t]==n)return t;return-1});Array.remove||Array.prototype&&(Array.prototype.remove=function(n){for(var t=this.length-1;t>=0;t--)this[t]==n&&this.splice(t,1)});Array.clear||(Array.prototype.clear=function(){this.length=0});Array.insertAt||(Array.prototype.insertAt=function(n,t){this.splice(n,0,t)});Array.removeAt||(Array.prototype.removeAt=function(n){this.splice(n,1)});Array.remove||(Array.prototype.remove=function(n){var t=this.indexOf(n);t>=0&&this.removeAt(t)});var CONST_ZODIACS=["鼠","牛","虎","兔","龙","蛇","马","羊","猴","鸡","狗","猪"],CONST_NUMS=["01,13,25,37,49","02,14,26,38","03,15,27,39","04,16,28,40","05,17,29,41","06,18,30,42","07,19,31,43","08,20,32,44","09,21,33,45","10,22,34,46","11,23,35,47","12,24,36,48"],arrWxNo=[{begindate:"2015-02-19",enddate:"2016-02-07",j:"01,02,15,16,23,24,31,32,45,46",m:"05,06,13,14,27,28,35,36,43,44",s:"03,04,11,12,19,20,33,34,41,42,49",h:"07,08,21,22,29,30,37,38",t:"09,10,17,18,25,26,39,40,47,48"},{begindate:"2016-02-08",enddate:"2017-01-27",j:"02,03,16,17,24,25,32,33,46,47",m:"06,07,14,15,28,29,36,37,44,45",s:"04,05,12,13,20,21,34,35,42,43",h:"01,08,09,22,23,30,31,38,39",t:"10,11,18,19,26,27,40,41,48,49"},{begindate:"2017-01-28",enddate:"2018-02-15",j:"03,04,17,18,25,26,33,34,47,48",m:"07,08,15,16,29,30,37,38,45,46",s:"05,06,13,14,21,22,35,36,43,44",h:"01,02,09,10,23,24,31,32,39,40",t:"11,12,19,20,27,28,41,42,49"},{begindate:"2018-02-16",enddate:"2019-02-04",j:"04,05,18,19,26,27,34,35,48,49",m:"01,08,09,16,17,30,31,38,39,46,47",s:"06,07,14,15,22,23,36,37,44,45",h:"02,03,10,11,24,25,32,33,40,41",t:"12,13,20,21,28,29,42,43"},{begindate:"2019-02-05",enddate:"2020-01-24",j:"05,06,19,20,27,28,35,36,49",m:"01,02,09,10,17,18,31,32,39,40,47,48",s:"07,08,15,16,23,24,37,38,45,46",h:"03,04,11,12,25,26,33,34,41,42",t:"13,14,21,22,29,30,43,44"},{begindate:"2020-01-25",enddate:"2021-02-11",j:"06,07,20,21,28,29,36,37",m:"02,03,10,11,18,19,32,33,40,41,48,49",s:"08,09,16,17,24,25,38,39,46,47",h:"04,05,12,13,26,27,34,35,42,43",t:"01,14,15,22,23,30,31,44,45"},{begindate:"2021-02-12",enddate:"2022-01-31",j:"07,08,21,22,29,30,37,38",m:"03,04,11,12,19,20,33,34,41,42,49",s:"09,10,17,18,25,26,39,40,47,48",h:"05,06,13,14,27,28,35,36,43,44",t:"01,02,15,16,23,24,31,32,45,46"},{begindate:"2022-02-01",enddate:"2023-01-21",j:"01,08,09,22,23,30,31,38,39",m:"04,05,12,13,20,21,34,35,42,43",s:"10,11,18,19,26,27,40,41,48,49",h:"06,07,14,15,28,29,36,37,44,45",t:"02,03,16,17,24,25,32,33,46,47"},{begindate:"2023-01-22",enddate:"2024-02-09",j:"01,02,09,10,23,24,31,32,39,40",m:"05,06,13,14,21,22,35,36,43,44",s:"11,12,19,20,27,28,41,42,49",h:"07,08,15,16,29,30,37,38,45,46",t:"03,04,17,18,25,26,33,34,47,48"},{begindate:"2024-02-10",enddate:"2099-02-09",j:"01,02,09,10,23,24,31,32,39,40",m:"05,06,13,14,21,22,35,36,43,44",s:"11,12,19,20,27,28,41,42,49",h:"07,08,15,16,29,30,37,38,45,46",t:"03,04,17,18,25,26,33,34,47,48"}];var REDBALL=["01","02","07","08","12","13","18","19","23","24","29","30","34","35","40","45","46"],BLUEBALL=["03","04","09","10","14","15","20","25","26","31","36","37","41","42","47","48"],GREENBALL=["05","06","11","16","17","21","22","27","28","32","33","38","39","43","44","49"],AllBALL=["01","02","03","04","05","06","07","08","09","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49"];String.prototype.CutStr=function(n,t){return this==null||this==""?"":((t==null||t==undefined)&&(t="..."),this.length>n?this.substring(0,n)+t:this.toString())};_countdownTimer=function(n,t,i,r){i==undefined&&(i=!0);var u={countdownDiv:n,reload:i,ticker:createBackgroudTimer(r?r:{timers:600,callback:function(){u.ticker.start()},tickcallback:function(){u.countdown()}}),timediff:t,timediff_real:t,countdown:function(){var n=u.timediff,i,r,e,t,f;n<0||(i=Math.floor(n/3600),n-=i*3600,r=Math.floor(n/60),n-=r*60,e=Math.floor(n),t=" ",i>0&&(t+=""+i+":"),r>0,t+=""+d2(r)+":",t+=""+d2(e)+"",f=$("#"+u.countdownDiv),f.length>0&&f.html(t),u.timediff-=1,u.timediff_real-=1,u.timediff<=0?(u.reload,u.timediff=0):u.timediff_real=u.timediff)}};return u};var NS4=document.layers,IE4=document.all,ver4=NS4||IE4,IE5=IE4&&navigator.appVersion.indexOf("5.")!=-1,isMac=navigator.appVersion.indexOf("Mac")!=-1,isMenu=NS4||IE4&&!isMac||IE5&&isMac,browerAgent=navigator.userAgent.toLowerCase();$.browser={};$.browser.msie=/msie/.test(browerAgent);$.browser.safari=/webkit/.test(browerAgent);$.browser.opera=/opera/.test(browerAgent);$.browser.mozilla=/mozilla/.test(browerAgent);$.ajaxSetup({cache:!1});String.prototype.replaceTemplate=function(n){for(var e,u,f=this,i=f.match(/\{[_a-zA-Z0-9]+\}/gi),r=f,t=0;t<i.length;t++)e=i[t].replace(/[\{\}]/gi,""),u=n[e],u!=undefined&&(r=r.replace(i[t],u));return r};String.prototype.replaceTemplateArray=function(n){for(var r,u,i,s,f,e="",o=this,t=0;t<n.length;t++)if(n[t]!=undefined&&n[t]!=null){for(r=o.match(/\{[_a-zA-Z0-9]+\}/gi),u=o,i=0;i<r.length;i++)s=r[i].replace(/[\{\}]/gi,""),f=n[t][s],f!=undefined&&(u=u.replace(r[i],f));e+=u}return e};String.prototype.startWith=function(n){var t=new RegExp("^"+n);return t.test(this)};String.prototype.endWith=function(n){var t=new RegExp(n+"$");return t.test(this)};Date.prototype.Format=function(n){var i={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()},t;/(y+)/.test(n)&&(n=n.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length)));for(t in i)new RegExp("("+t+")").test(n)&&(n=n.replace(RegExp.$1,RegExp.$1.length==1?i[t]:("00"+i[t]).substr((""+i[t]).length)));return n};Date.prototype.pattern=function(n){var i={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours()%12==0?12:this.getHours()%12,"H+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()},t;/(y+)/.test(n)&&(n=n.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length)));/(E+)/.test(n)&&(n=n.replace(RegExp.$1,(RegExp.$1.length>1?RegExp.$1.length>2?"/u661f/u671f":"/u5468":"")+{"0":"日","1":"一","2":"二","3":"三","4":"四","5":"五","6":"六"}[this.getDay()+""]));for(t in i)new RegExp("("+t+")").test(n)&&(n=n.replace(RegExp.$1,RegExp.$1.length==1?i[t]:("00"+i[t]).substr((""+i[t]).length)));return n};String.prototype.startWith=function(n){return n==null||n==""||this.length==0||n.length>this.length?!1:this.substr(0,n.length)==n?!0:!1};dataTemplate=function(n,t,i,r){for(var s,f,e,o,h="",u=0;u<t.length;u++)if(t[u]!=undefined&&t[u]!=null){for(s=n.match(/\{[a-zA-Z0-9]+\}/gi),f="",e=0;e<s.length;e++)f==""&&(f=n),o=s[e].replace(/[\{\}]/gi,""),i&&r&&r.indexOf(o)>-1&&t[u][o]&&t[u][o].toFixed?i==0?emp=f.replace(s[e],parseInt(t[u][o])):f=f.replace(s[e],t[u][o].toFixed(i)):f=f.replace(s[e],t[u][o]);h+=f}return h};alertMessageCallbackFun=null;timestap=0;countdownHandler=0;var Dialog={IsShow:function(){var n=$("#dialog");return n.length>0&&n.is(":visible")?!0:!1},Close:function(){try{window.$("#dialog").dialog("close").remove()}catch(n){console.log(n)}try{window.top.$("#dialog").dialog("close").remove()}catch(n){console.log(n)}},_show:function(n,t,i,r,u,f){Dialog.Close();var e=window.top.$('<div id="dialog"><\/div>');e.html('<div class="dialog-html"><span class="img"><\/span>'+t+"<\/div>");e.dialog({resizable:!1,modal:!0,buttons:i,title:n,dialogClass:f,minWidth:r,minHeight:u})},Load:function(n){var t=window.top.$('<div id="dialog"><\/div>');t.html('<div class="dialog-html">'+n+"<\/div>");t.dialog({resizable:!1,modal:!0,buttons:{},title:"",dialogClass:"dialog-loading dialog-no-title",width:190,minHeight:50})},Alert:function(n,t){t.length==0&&(t=[{text:"确定",click:function(){Dialog.Close()}}]);Dialog._show("",n,t,250,100,"dialog-alert dialog-no-title")},Error:function(n,t){t.length==0&&(t=[{text:"确定",click:function(){Dialog.Close()}}]);Dialog._show("",n,t,250,100,"dialog-error dialog-no-title")},Confirm:function(n,t,i){Dialog._show(n,t,i,250,150,"dialog-confirm")}},Logger=function(n){this.log=function(t){n&&console.log(t)}},MAX_DIVIDEND,SOUND_URL,_LS,_LIC=8,_lastResult,sideUserTitle,resetTimer,currentLottery,accountTimer,userparams,betting=!1,userloginId="",_lastBetsTimer,_resultTimer;$.ajaxSetup({cache:!1});$(function(){initMenu();$("#betAmount").keypress(function(n){13==n.keyCode&&$("#btnBet").click()});var n=!1;$(".lotterys .menumoregame,.lotterys .gamecontainer").hover(function(){clearTimeout($(".lotterys .gamecontainer").show().data("timer"));$(".lotterys .menumoregame").addClass("selected2")},function(){if(!n){var t=$(".lotterys .gamecontainer");t.data("timer",setTimeout(function(){t.hide();refreshMenu&&refreshMenu()},200))}});$(".editon .gamebtn1").click(function(){$(".editon").css("display","none");$(".editoff").css("display","block");$(".addbtn").css("display","block");$(".removebtn").css("display","block");$("#items").sortable({disabled:!1});n=!0});$(".editoff .gamebtn2").click(function(){location.reload()});$(".editoff .gamebtn1").click(function(){var t,i,r,e,o;$("#items").sortable({disabled:!0});$(".editon").css("display","block");$(".editoff").css("display","none");$(".addbtn").css("display","none");$(".removebtn").css("display","none");$(".gamecontainer").css("display","none");var s=$("#items .item").length,h=$(".itemmg").length,u=[],f=[];for(t=0;t<s;t++)i=$("#items .item a").eq(t),r=i.attr("id").substr(2),u.push(r);for(t=0;t<h;t++)i=$(".itemmg a").eq(t),r=i.attr("id").substr(2),f.push(r);e=u.join(",");o=f.join(",");store.set("_menu_"+userloginId,e);store.set("_menumore_"+userloginId,o);n=!1;refreshMenu&&refreshMenu()})});$(document).on("click",".removebtn",function(){var n=$("#items .item").length,t;n==1?showMsg("最少要保留一个游戏！"):(t=$(this).parent().find("a"),n=$(".itemmg").length,$(".gamebox").append("<div class='itemmg'><\/div>"),$(t).appendTo(".itemmg:eq("+n+")"),$(".itemmg:eq("+n+")").append("<div class='addbtn'><\/div>"),$(this).parent().parent().remove(),$(".addbtn").css("display","block"),$(".removebtn").css("display","block"))});$(document).on("click",".addbtn",function(){var n=$("#items .item").length,t;n==_LIC?showMsg("最多可以添加"+_LIC+"个游戏！"):(t=$(this).parent().find("a"),$(".items").append("<li class='ui-sortable-handle'><div class='item'><\/div><\/div>"),$(t).appendTo(".item:eq("+n+")"),$(".item:eq("+n+")").append("<div class='removebtn'><\/div>"),$(this).parent().remove());$(".addbtn").css("display","block");$(".removebtn").css("display","block")});var store=function(){var t={},i=window,f=i.document,r="localStorage",e="globalStorage",n;if(t.set=function(){},t.get=function(){},t.remove=function(){},t.clear=function(){},r in i&&i[r])n=i[r],t.set=function(t,i){n.setItem(t,i)},t.get=function(t){return n.getItem(t)},t.remove=function(t){n.removeItem(t)},t.clear=function(){n.clear()};else if(e in i&&i[e])n=i[e][i.location.hostname],t.set=function(t,i){n[t]=i},t.get=function(t){return n[t]&&n[t].value},t.remove=function(t){delete n[t]},t.clear=function(){for(var t in n)delete n[t]};else if(f.documentElement.addBehavior){function u(){return n?n:(n=f.body.appendChild(f.createElement("div")),n.style.display="none",n.addBehavior("#default#userData"),n.load(r),n)}t.set=function(n,t){var i=u();i.setAttribute(n,t);i.save(r)};t.get=function(n){var t=u();return t.getAttribute(n)};t.remove=function(n){var t=u();t.removeAttribute(n);t.save(r)};t.clear=function(){var n=u(),f=n.XMLDocument.documentElement.attributes,t,i;for(n.load(r),t=0;i=f[t];t++)n.removeAttribute(i.name);n.save(r)}}return t}(),lottery,Results=function(){var n={dx:{D:"大",X:"小",T:"和",N:"通吃",LOSE:"输"},xwdx:{D:"大",X:"小",T:"和",N:"通吃"},ds:{D:"单",S:"双",T:"和",LOSE:"输"},hds:{D:"单",S:"双",T:"和"},lh:{L:"龙",H:"虎",T:"和"},sb:{R:"红",G:"绿",B:"蓝"},fw:{"0":"东","1":"南","2":"西","3":"北"},zfb:{"0":"中","1":"发","2":"白"},wx:{J:"金",M:"木",S:"水",H:"火",T:"土"},flsx:{F:"福",L:"禄",S:"寿",X:"喜",T:"和"},qh:{Q:"前",H:"後",T:"和"}};return{inited:!1,tabKeys:null,maxCols:25,index:null,init:function(n,t,i,r,u,f){var e=$("#resultPanel");e.length||(e=$('<div id="resultPanel">').appendTo($("#main")));t!=null&&i!=null&&(this.minBall=t,this.maxBall=i,this.index=u||1,this.ballTotal=!!f,this.initBallPanel(e,r));this.tabs=n;this.initTabs(e);this.inited=!0},initBallPanel:function(n,t){for(var l,f,r,e,o,h,c=$("<tr>").appendTo($("<table>").addClass("tabTitle").appendTo(n)),v=this,i=0;i<t.length;i++)l=t[i],f=$("<a>").data("idx",i+1).text(l).attr("href","javascript:void(0)"),f.appendTo($("<th>").appendTo(c)),f.click(function(){var n=$(this);n.parent().parent().find("th.selected").removeClass("selected");n.parent().addClass("selected");v.changeBall(n.text(),n.data("idx"))});if(c.find("a").eq(this.index-1).click(),r=$("<table>").addClass("ballTable").appendTo(n),_lotteryType=="CQXYNC")for(e=$("<tr>").addClass("head").appendTo(r),e.append($("<th>").text("类型").addClass("title")),o=["西瓜","椰子","榴莲","柚子","菠萝","葡萄","荔枝","樱桃","草莓","番茄","梨子","苹果","桃子","柑橘","冬瓜","萝卜","南瓜","茄子","家犬","奶牛"],i=0;i<o.length;i++)e.append($("<th>").text(o[i]));var a=$("<tr>").addClass("head").appendTo(r),s=$("<tr>").appendTo(r),u=!1;for(this.ballTotal&&(u=$("<tr>").appendTo(r),a.append($("<th>").text("号码").addClass("title")),s.append($("<th>").text("出 球 率")),u.append($("<th>").text("无出期数"))),i=this.minBall;i<=this.maxBall;i++)h=i,this.maxBall>10&&i<10&&(h="0"+i),a.append($("<th>").addClass("b"+i).text(h)),s.append($("<td>").addClass("b"+i).text("0")),u&&u.append($("<td>").addClass("b"+i).text("0"));this.ballTable=r;this.ballLine=s;this.ballTotalLine=u},initTabs:function(n){var h=this,o=this.tabs,s=$("<tr>").appendTo($("<table>").addClass("tabTitle").appendTo(n)),e,r,u;this.tabTitles=s;e=[];r={};for(u in o){var f=$("<th>").appendTo(s),t=o[u],i=$("<a>").data("option",t).text(u).attr("href","javascript:void(0)");t.length>2?(r[t[0]+"_"+t[2][0]]=$("<span>").appendTo(f),i.appendTo(f),r[t[0]+"_"+t[2][1]]=$("<span>").appendTo(f),e.push(t[0])):i.appendTo(f);u==""&&(i.addClass("ball"),this.ballText&&i.text(this.ballText));i.click(function(){var n=$(this);n.parent().parent().find("th.selected").removeClass("selected");n.parent().addClass("selected");h.changeTab(n.data("option"))})}this.totalKeys=e;this.totalItems=r;this.tabPanel=$("<tr>").appendTo($("<table>").addClass("tabContents").appendTo(n));this.changeIndex(0)},changeBall:function(n,t){this.ballText=n;this.inited&&(this.tabTitles.find("a.ball").text(n),this.index=t,this.showResults())},changeIndex:function(n){this.tabTitles.find("a:eq("+n+")").click()},changeTab:function(n){this.tabKeys=n;this.showResults()},getKey:function(n){return this.index!=null?n.format(this.index):n},getKeyByNo:function(n,t){return t?n.format(t):n},showBalls:function(n){var c,u,e,r,o,h,s,i,t,f,l;if(this.ballLine){for(c=this.getKey("B{0}"),u={},t=0;t<n.length;t++)i=Number(n[t].detail[c]),r=u[i],r||(r=0),r+=1,u[i]=r;for(i in u)this.ballLine.children(".b"+i).text(u[i]);if(this.ballTotal){for(e={},r=this.maxBall-this.minBall+1,t=0;t<n.length;t++)for(h=n[t].result.split(","),s=0;s<h.length;s++)if((i=Number(h[s]),e[i]===undefined)&&(e[i]=t,r-=1,r<=0)){o=t;break}for(r>0&&(o=n.length),this.ballTotalLine.children(".max").removeClass("max"),t=this.minBall;t<=this.maxBall;t++)f=e[t],f===undefined&&(f=o),l=this.ballTotalLine.children(".b"+t).text(f),f==o&&l.addClass("max")}}},showTotal:function(n){var f=this.totalKeys,s=this.totalItems,i,r,h,u,t,e,o;if(f.length!=0){for(i={},r=0;r<n.length;r++)for(h=n[r],u=0;u<f.length;u++)(t=f[u],e=h.detail[this.getKey(t)],e[0]!="*")&&(t=t+"_"+e,i[t]=(i[t]||0)+1);for(o in s)s[o].text(i[o]||0)}},showTabs:function(t){var e,c,r,l,s,i,h,y;if(!$.isEmptyObject(this.tabKeys)){e=this.tabPanel;e.empty();var u=[],f=null,o=0,p=this.getKey(this.tabKeys[0]);for(i=0;i<t.length;i++){if(c=t[i],r=c.detail[p],!r)return;if(r[0]=="*"&&(r="T"),r==f){o++;continue}else if(f&&o&&(u.push([f,o]),u.length>=this.maxCols)){f=null;break}f=r;o=1}for(f&&u.push([f,o]),u.reverse(),l=this.maxCols-u.length,i=0;i<l;i++)e.append($("<td>").html("&nbsp;"));for(s=n[this.tabKeys[1]],i=0;i<u.length;i++){var r=u[i],a=s?s[r[0]]:r[0],v=a;for(h=0,y=r[1]-1;h<y;h++)v+="<br/>"+a;e.append($("<td>").html(v))}e.children(":even").addClass("even")}},load:function(n){if(this.inited){var t=this;n?this.ftType=n:n=this.ftType;LIBS.ajax({url:"DayResult",type:"POST",data:{lotteryType:_lotteryType,ftType:n},cache:!1,success:function(n){t.showResults(n)}})}},showResults:function(n){var i,u,t,f,r,e,o;if(this.inited){if(n){for(i=0;i<n.length;i++)if(u=n[i],t=u.detail,t&&!$.isPlainObject(t)){for(f=t.split(","),t={},r=0;r<f.length;r++)(e=f[r],e)&&(o=e.split("="),t[o[0]]=o[1]);u.detail=t}}else n=this.results;n&&(this.initloted&&this.showLotteryResult(n),this.initFANTROADMAP&&this.loadFANTROADMAP(n),this.showBalls(n),this.showTotal(n),typeof IS_MOBILE=="undefined"&&this.showTabs(n),this.results=n)}},initloted:!1,changeCL_LOT:function(n){$("#cl_lotPannel a").removeClass("on");$(n).addClass("on");var t=$(n).attr("value");t=="cl"?($("#changlong").show(),$("#drawLot").hide()):($("#drawLot").show(),$("#changlong").hide(),this.initloted||this.initShowType())},initLotConfig:{PK10:{"号码":["B{0}","","10"],"大小":["DX{0}","dx","10"],"单双":["DS{0}","ds","10"]},SSC:{"号码":["B{0}","","5"],"大小":["DX{0}","dx","5"],"单双":["DS{0}","ds","5"]},KL10:{"号码":["B{0}","","8"],"大小":["DX{0}","dx","8"],"单双":["DS{0}","ds","8"],"尾大小":["WDX{0}","dx","8"],"合数单双":["HDS{0}","hds","8"]},"11X5":{"号码":["B{0}","","5"],"大小":["DX{0}","dx","5"],"单双":["DS{0}","ds","5"]},GXK10:{"号码":["B{0}","","5"],"大小":["YDX{0}","dx","5"],"单双":["YDS{0}","ds","5"],"合单双":["YHDS{0}","hds","5"],"大小尾":["YWDX{0}","xwdx","5"],"色波":["SB{0}","sb","5"],"福禄寿喜":["YFLSX{0}","flsx","5"]},BINGO:{"号码":["B{0}","","5"],"大小":["DX{0}","dx","5"],"单双":["DS{0}","ds","5"],"福禄寿喜":["FLSX{0}","flsx","5"]},BINGOFT:{"番":["FA{0}","","5"],"号码":["B{0}","","5"],"大小":["DX{0}","dx","5"],"单双":["DS{0}","ds","5"]}},initShowType:function(){var f=this,i=$("<td>").appendTo($("<tr>").appendTo($("#drawLot thead"))),n,t,r,u;i.empty();n=this.initLotConfig[_temploateCode];for(t in n)r=n[t],u=$("<span>").data("option",r).text(t).appendTo(i),u.click(function(){var n=$(this);n=$(this).parent().find("span.selected").removeClass("selected");n=$(this).addClass("selected");f.changeLotTab(n.data("option"))});this.lotPanel=$("<table>").addClass(_temploateCode+" "+_lotteryType).attr({cellspacing:"0",cellpadding:"0"}).css({"border-collapse":"collapse","border-width":"0px","border-style":"hidden"}).appendTo($("<td>").css({width:"100%"}).appendTo($("<tr>").appendTo($("#drawLot tbody"))));this.initloted=!0;$("#drawLot thead").find("span:eq(0)").click()},changeLotTab:function(n){this.lotTabKeys=n;this.showResults()},showLotteryResult:function(t){var f=this.lotPanel,e,i,l,o,r;for(f.empty(),e=Number(this.lotTabKeys[2]),$('<tr class="tit_bg"><td>期数<\/td><td colspan="'+e+'">开奖结果<\/td><\/tr>').appendTo(f),i=0;i<t.length;i++){if(i>19)return;var h=t[i],c=$("<tr>").appendTo(f),u=h.installments;for(_lotteryType!="PK10"&&(u=u.substr(u.length-3)),l=$("<td>").addClass("ins").text(u).appendTo(c),o=n[this.lotTabKeys[1]],r=0;r<e;r++){var a=this.getKeyByNo(this.lotTabKeys[0],r+1),s=h.detail[a],v=o?o[s]:s,y=this.lotTabKeys[1]==""?"ico b"+(r+1):"cnt "+this.lotTabKeys[1]+"_"+s;$("<th>").addClass(y).text(v).appendTo(c)}}},initFANTROADMAP:!1,loadFANTROADMAP:function(t){var e=$("#FANTResults"),i;for(e.empty(),i=0;i<t.length;i++){if(i>19)return;var r=t[i].detail,u=$("<tr>").appendTo(e),f=t[i].installments;_lotteryType!="BJFTPK10"&&(f=f.substr(f.length-3));$("<td>").addClass("ins").text(f).css("width","60px").appendTo(u);$("<i>").addClass("b b"+r.FA).text(r.FA).appendTo($("<th>").addClass("ico").css("width","40px").appendTo(u));$("<th>").addClass("cnt ds_"+r.DS).text(n.ds[r.DS]).appendTo(u);$("<th>").addClass("cnt dx_"+r.DX).text(n.dx[r.DX]).appendTo(u)}}}}(),closePanKouTimer,openPanKouTimer,RERESH_ODDS=10,G_isHk6Type=0,PeriodPanel=function(){return{drawPanel:null,countdownPanel:null,drawNumberPanel:null,timeOffset:0,timer:null,countdownText:"{0}秒",ini:function(){var t=this,n;this.drawPanel||(this.drawPanel=$("#drawInfo"));this.countdownPanel||(this.countdownPanel=$("#cdRefresh"));this.drawNumberPanel||(this.drawNumberPanel=$("#drawNumber"));this.timer=createBackgroudTimer({timers:RERESH_ODDS,callback:function(){t.refreshData()},tickcallback:function(n){t.showRefreshRemain(n)}});n=$("#refreshInteval");0<n.length&&(n.change(function(){t.changeInterval($(this).val())}),this.changeInterval(n.val()))},changeInterval:function(n){var t=this;this.timer.stop();this.timer.setInterval(n);this.timer.start();0<n&&this.showRefreshRemain(n)},showRefreshRemain:function(n){0<=n&&this.countdownPanel&&(0==n?this.countdownPanel.text("加载中"):(n=this.countdownText.format(n),this.countdownPanel.text(n)))},reloadData:function(){_temploateCode=="K3"&&k3Top10Results()},refreshData:function(){var n=this;betInstance.refresh(function(){n.showRefreshRemain(n.timer.restore())})}}}(),updataCL={cltbody:"changlong",changlongUrl:"",changlong:{},loadCL:function(){$.ajax({type:"POST",dataType:"json",url:updataCL.changlongUrl,data:{},error:function(){}}).done(function(n){updataCL.showChanglongInfo(n)})},pageCofig:{T_HK6:{"特A":"tm","特码":"tm","特码色波":"tm","色波":"sb","7色波":"wx","半波大小":"sb","半波单双":"sb","特半半波":"sb","特码两面":"lm","两面":"lm","总和":"lm","合肖":"hx","10肖不中":"hx","10肖中":"hx","11肖不中":"hx","11肖中":"hx","2肖不中":"hx","2肖中":"hx","3肖不中":"hx","3肖中":"hx","4肖不中":"hx","4肖中":"hx","5肖不中":"hx","5肖中":"hx","6肖不中":"hx","6肖中":"hx","7肖不中":"hx","7肖中":"hx","8肖不中":"hx","8肖中":"hx","9肖不中":"hx","9肖中":"hx","正码":"zma","正A":"zma","正码两面":"zma","正码1-6":"zm16","正码一":"zm16","正码二":"zm16","正码三":"zm16","正码四":"zm16","正码五":"zm16","正码六":"zm16","连码":"lma","二全中":"lma","二中特":"lma","三全中":"lma","三中二":"lma","四全中":"lma","特串":"lma","自选不中":"zxbz","五不中":"zxbz&tpage=zxbz5","六不中":"zxbz&tpage=zxbz6","七不中":"zxbz&tpage=zxbz7","八不中":"zxbz&tpage=zxbz8","九不中":"zxbz&tpage=zxbz9","十不中":"zxbz&tpage=zxbz10","十一不中":"zxbz&tpage=zxbz11","尾数":"yxws","一肖":"yxws","二肖":"lx&tpage=lx2","三肖":"lx&tpage=lx3","四肖":"lx&tpage=lx4","五肖":"lx&tpage=lx5","二肖不中":"lx&tpage=lxbz2","三肖不中":"lx&tpage=lxbz3","四肖不中":"lx&tpage=lxbz4","五肖不中":"lx&tpage=lxbz5","二尾":"lw&tpage=lw2","三尾":"lw&tpage=lw3","四尾":"lw&tpage=lw4","二尾不中":"lw&tpage=lwbz2","三尾不中":"lw&tpage=lwbz3","四尾不中":"lw&tpage=lwbz4","正一特":"zmt&tpage=z1t","正二特":"zmt&tpage=z2t","正三特":"zmt&tpage=z3t","正四特":"zmt&tpage=z4t","正五特":"zmt&tpage=z5t","正六特":"zmt&tpage=z6t","特肖":"tx_12sx","正肖":"zx","总肖":"zx","特码五行":"wx","特头尾数":"tx_12sx"},T_PK10:{"冠亚军和":"gyj","冠军":"lm","亚军":"lm","第三名":"lm","第四名":"lm","第五名":"lm","第六名":"lm","第七名":"lm","第八名":"lm","第九名":"lm","第十名":"lm","":"lm"},T_SSC:{"总和":"zh","第一球":"zh","第一球":"zh","第二球":"zh","第三球":"zh","第四球":"zh","第五球":"zh","前三":"zh","中三":"zh","后三":"zh","":"zh"},T_KL10:{"第一球":"hm1","第二球":"hm2","第三球":"hm3","第四球":"hm4","第五球":"hm5","第六球":"hm6","第七球":"hm7","第八球":"hm8","正码":"lm","总和":"lm","":"lm"},T_GXK10:{"第一球":"hm1","第二球":"hm2","第三球":"hm3","第四球":"hm4","第五球":"hm5","正码":"lm","总和":"lm","":"lm"},T_BJK8:{"总项盘口":"ZhBsWx","正码":"ZhBsWx","总和":"ZhBsWx","":"ZhBsWx","总和过关":"ZhBsWx","五行":"ZhBsWx","前后和":"ZhBsWx","单双和":"ZhBsWx"},T_11X5:{"两面":"lm","总和":"lm","单号":"hm","第一球":"hm","第二球":"hm","第三球":"hm","第四球":"hm","第五球":"hm","连码":"lianma","前二直选":"lianma","前三直选":"lianma"},T_PCDD:{"大小":"zsp","单双":"zsp","极大小":"zsp","组合":"zsp","和值":"zsp","对子":"zsp","色波":"zsp","":"zsp"},T_FANT:{"大小":"zp","单双":"zp"},T_F31X7:{"特码":"lm","正码一":"lm","正码二":"lm","正码三":"lm","正码四":"lm","正码五":"lm","正码六":"lm","正码七":"lm","总分大小":"zm","总分单双":"zm"},T_F36X7:{"特码":"lm","正码一":"lm","正码二":"lm","正码三":"lm","正码四":"lm","正码五":"lm","正码六":"lm","正码七":"lm","总分大小":"zm","总分单双":"zm"},T_QXC:{"单双":"dsdx","大小":"dsdx","合单双":"dsdx","合大小":"dsdx"},T_PL5:{"单双":"dsdx","大小":"dsdx","合单双":"dsdx","合大小":"dsdx"},T_BINGO:{"总和大小":"zp","总和单双":"zp","和尾大小":"zp","龙虎":"zp","平码一":"zp","平码二":"zp","平码三":"zp","平码四":"zp","特码":"zp"},T_BINGOFT:{"第一球":"zp","第二球":"zp2","第三球":"zp3","第四球":"zp4","第五球":"zp5"},T_PL3:{"佰大小":"lm","佰单双":"lm","佰质合":"lm","拾大小":"lm","拾单双":"lm","拾质合":"lm","个大小":"lm","个单双":"lm","个质合":"lm","佰个尾数大小":"lm","佰个尾数大小":"lm","佰个尾数单双":"lm","佰个尾数质合":"lm","佰拾尾数大小":"lm","佰拾尾数单双":"lm","佰拾尾数质合":"lm","拾个尾数大小":"lm","拾个尾数单双":"lm","拾个尾数质合":"lm","总和大小":"lm","总和单双":"lm","总和尾数质合":"lm"}},showChanglongInfo:function(n){var r,t,e,f;if(n){r=$("#changlong tbody");r.empty();var u=this,i=n.data,o="T_"+n.tmpCode,s=n.lot;for(t=0;t<i.length;t++)e=baseUrl+"/PlaceBet/Index?lotteryType="+s+"&page="+u.pageCofig[o][i[t].MidType],f=$("<th>"),$("<a>").text(i[t].ProjectName).attr("href","javascript:void(0);").attr("url",e+"&CLong="+i[t].KeyCode).click(function(){if(u.onChangLongClick){var n=$(this).attr("url"),t=LIBS.getUrlParam("CLong",n),i=LIBS.getUrlParam("page",n),r=LIBS.getUrlParam("page",location.href);if($("td [key='K_"+t+"']").length>0&&i==r)return u.onChangLongClick(t);window.location.href=n}}).appendTo(f),$("<tr>").append(f).append($("<td>").text(i[t].Count+" 期")).appendTo(r)}},onChangLongClick:function(n){$("td").siblings("[key='K_"+n+"']").addClass("selected").find("input").focus().click()}};_quickPannelState=!1;$(function(){$("#cdRefresh").val(RERESH_ODDS);PeriodPanel.reloadData();betbase.confirmUrl=baseUrl+"/PlaceBet/Confirmbet?lotteryType="+_lotteryType;betbase.ticketUrl=baseUrl+"/PlaceBet/Taketicket?lotteryType="+_lotteryType;betbase.loadDataUrl=baseUrl+"/PlaceBet/Loaddata?lotteryType="+_lotteryType;betbase.refreshDataUrl=baseUrl+"/PlaceBet/Refreshodds?lotteryType="+_lotteryType;betbase.currentInstall=currentPk;betbase.gameType=hk6GameType;hisBetList.betUrl=baseUrl+hisBetList.betUrl;betbase.showLmOdds=showLmOdds=="1";betbase.now=Date.parse(strTime.replace(/-/g,"/"));$("#fixOrNot").click(function(){var n=$(this).prop("checked");n?$("#betbottom").addClass("bottomtable"):$("#betbottom").removeClass("bottomtable")});var n=baseUrl+"/PlaceBet/"+page;currentPk.State==1?(PeriodPanel.ini(),createCloseTimer(currentPk.CloseTimeStamp),createOpenTimer(10),$("#lottery_info").show()):currentPk.State==2?(n=baseUrl+"/PlaceBet/noinst",PeriodPanel.ini(),createCloseTimer(60),createOpenTimer(10)):currentPk.State==3?(n=baseUrl+"/PlaceBet/noinst",PeriodPanel.ini(),createCloseTimer(60),createOpenTimer(10)):currentPk.State==4&&(n=baseUrl+"/PlaceBet/noinst",PeriodPanel.ini(),createCloseTimer(60),createOpenTimer(10));$("#cdRnNum").click(function(){console.log("cdRnNum clickc2lick")})});$(function(){$("input.txtDefaultAmount").val(store.get("amount"));loadChipAmount();$(".checkdefault input[type=checkbox]").on("click",function(){$('input[name="chkBox"]').prop("checked",$(this).is(":checked"));$(this).is(":checked")==!1&&$("input.txtDefaultAmount").val("");store.set("amount",$("input.txtDefaultAmount").val())});$("input.txtDefaultAmount").change(function(){$("input.chkDefaultCheck").is(":checked")==!0&&store.set("amount",$(this).val())});loadChkDefault();$(".pk_con li",window.parent.document).on("click",function(){$(this).addClass("p_curr").siblings().removeClass("p_curr");pkChange($(this).text())})});$(function(){var n,t;updataCL.changlongUrl=_root+"/PlaceBet/GetChangLong?lotteryType="+_lotteryType;_temploateCode!="K3"&&loadChangLong();n=LIBS.getUrlParam("page",location.href);$("#child_"+_lotteryType+" a",window.parent.document).removeClass("c_curr");$("#child_"+_lotteryType+" a",window.parent.document).each(function(){var t=$(this).prop("href");if(LIBS.getUrlParam("page",t)==n){if(n=="zmt"){LIBS.getUrlParam("abType",t)==LIBS.getUrlParam("abType",location.href)&&$(this).addClass("c_curr");return}$(this).addClass("c_curr")}});t=LIBS.getUrlParam("CLong",location.href);updataCL.onChangLongClick(t)});