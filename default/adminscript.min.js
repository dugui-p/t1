function initMenu() { var o = [], p = $("#lotterys"), f = [], s, l, a, h, i, e, v, y, c, t, u, n, r; if (p.find("a").each(function () { var n = $(this), t = { id: n.attr("id").substr(2), info: n.attr("lang").split("_", 2), name: n.text() }; n.data("info", t); o.push(t); f.push(t.id) }), f.length <= _LIC && $(".menumoregame").hide(), s = store.get("_menu_" + userloginId), l = store.get("_menumore_" + userloginId), s) { for (i = s.split(","), e = l.split(","), removeNotExist(i, f), removeNotExist(e, f), i.length < _LIC && (appendFromMore(i, e), i.length < _LIC && appendFromMore(i, f)), v = i.length, y = e.length, n = 0; n < v; n++)r = i[n], c = $("<li><div class='item'><\/div><\/li>"), $(".items").append(c), t = c.find(".item"), $("#l_" + r).appendTo(t), $(t).append("<div class='removebtn'><\/div>"); for (n = 0; n < y; n++)r = e[n], u = $("<div class='itemmg'><\/div>"), $(".gamebox").append(u), $("#l_" + r).appendTo(u), $(u).append("<div class='addbtn'><\/div>"); for (n = 0; n < f.length; n++)r = f[n], i.indexOf(r) === -1 && e.indexOf(r) === -1 && (u = $("<div class='itemmg'><\/div>"), $(".gamebox").append(u), $("#l_" + r).appendTo(u), $(u).append("<div class='addbtn'><\/div>")) } else { for (a = Math.min(_LIC, o.length), n = 0; n < a; n++)$(".items").append("<li><div class='item'><\/div><\/li>"), t = $(".item").eq(n), $("#l_" + o[n].id).appendTo(t), $(t).append("<div class='removebtn'><\/div>"); for (h = 0, n = _LIC; n < o.length; n++)$(".gamebox").append("<div class='itemmg'><\/div>"), t = $(".itemmg").eq(h), $("#l_" + o[n].id).appendTo(t), $(t).append("<div class='addbtn'><\/div>"), h++ } currentLottery = $(".lotterys a.selected").data("info") } function removeNotExist(n, t) { for (var r, f, u = n.length, i = 0; i < u; i++)r = n[i], f = t.indexOf(r), f === -1 && (n.remove(r), i--, u--) } function appendFromMore(n, t) { for (var r, f, u = t.length, i = 0; i < u; i++)if (r = t[i], f = n.indexOf(r), f === -1) { if (t.remove(r), n.push(r), n.length >= _LIC) return; i--; u-- } } function refreshMenu() { $(".gamecontainer").hide(); var n = $("#l_" + currentLottery.id); $("#items a.selected").removeClass("selected"); n.parent().hasClass("itemmg") ? ($("#moregameicon").text(n.data("info").name), $(".lotterys .menumoregame").addClass("selected2")) : ($("#moregameicon").text("更多游戏"), $(".lotterys .menumoregame").removeClass("selected2"), n.addClass("selected")) } function playSound(n) { var t = $("#SOUND"); t.remove(); t = $('<audio id="SOUND"><source src="' + n + '" type="audio/mpeg"/><\/audio>').appendTo($("body"))[0]; t.load && t.load(); t.play && t.play() } function getUserParam(n, t) { if (userparams) return userparams[n + "-" + t] } function showMsg(n, t) { var i = $("#messageBox"); 0 == i.length && (i = $('<div id="messageBox">').appendTo("body").dialog({ autoOpen: !1, resizable: !1, modal: !0, icon: !0, minHeight: 0, width: 400, title: "用户提示", buttons: { "确定": function () { $(this).data("ok", !0).dialog("close") }, "取消": function () { $(this).dialog("close") } } }).on("dialogclose", function (n) { n = $(this).data("cb"); $.isFunction(n) && n($(this).data("ok")) })); i.text(n).dialog("open").data({ ok: !1, cb: t }); t ? i.dialog("widget").find(".ui-dialog-buttonset button:eq(1)").show() : i.dialog("widget").find(".ui-dialog-buttonset button:eq(1)").hide() } function getYearToWxNo(n, t) { for (var i, r = "", u = 0; u < arrWxNo.length; u++)if (i = arrWxNo[u], t >= i.begindate && t <= i.enddate) { switch (n) { case "金": r = i.j; break; case "木": r = i.m; break; case "水": r = i.s; break; case "火": r = i.h; break; case "土": r = i.t }break } return r } function sort(n) { for (var t, r, u = [], e = [], f = 0, i = 0; i < CONST_ZODIACS.length; i++)if (n == CONST_ZODIACS[i]) { f = i; u.push(n); break } for (t = CONST_ZODIACS.length - 1; t >= 0; t--)t > f && e.push(CONST_ZODIACS[t]), t < f && u.push(CONST_ZODIACS[t]); return r = [], r = r.concat(u), r.concat(e) } function getAnimalByNum(n, t) { for (var e, r, o, s = sort(n), u = 0, f = !1, i = 0; i < CONST_NUMS.length; i++) { e = CONST_NUMS[i]; r = e.split(","); for (o in r) r[o] == t && (f = !0); if (f) break; u++ } return i < CONST_NUMS.length ? s[u] : "" } function getNumByAnimal(n, t) { for (var f, r = sort(n), u = 0, i = 0; i < r.length; i++) { if (f = r[i], f == t) break; u++ } return i <= r.length ? CONST_NUMS[u] : "" } function getNumColor(n) { return (n = d2(n), REDBALL.indexOf(n) > -1) ? "red01" : BLUEBALL.indexOf(n) > -1 ? "blue01" : GREENBALL.indexOf(n) > -1 ? "green01" : void 0 } function getNumColor3(n) { return (n = d2(n), REDBALL.indexOf(n) > -1) ? "red" : BLUEBALL.indexOf(n) > -1 ? "blue" : GREENBALL.indexOf(n) > -1 ? "green" : void 0 } function getNumColor2(n) { return (n = d2(n), REDBALL.indexOf(n) > -1) ? "red02" : BLUEBALL.indexOf(n) > -1 ? "blue02" : GREENBALL.indexOf(n) > -1 ? "green02" : void 0 } function gethtml(n) { var i, t; return i = document.getElementById(n), t = "<html><head><!--<xml><x:ExcelWorkbook><x:ExcelWorksheets><x:ExcelWorksheet><x:Name>工作表标题<\/x:Name><x:WorksheetOptions><x:print><x:ValidPrinterInfo /><\/x:print><\/x:WorksheetOptions><\/x:ExcelWorksheet><\/x:ExcelWorksheets><\/x:ExcelWorkbook><\/xml><![endif]--><\/head>", t += $("#" + n).html(), t + "<\/html>" } function XExportToExcel(n) { var i = gethtml(n), t = window.open(); t.document.open("text/html", "gb2312"); t.document.write(i); t.document.execCommand("SaveAs", !0, "table.xls") } function createBackgroudTimer(n) { function e() { if (u != 1) { if (i <= 0) { i = parseInt(t.timers); u = 1; t.tickcallback(i); t.callback(f); return } i--; t.tickcallback(i) } } var t = { timers: 300, interval: 1e3, start: !0, callback: function () { }, tickcallback: function () { } }; n && $.extend(t, n); var i = parseInt(t.timers), r = 0, u = 0, f = { start: function () { r > 0 && (clearInterval(r), r = 0); i = parseInt(t.timers); r = setInterval(function () { e() }, t.interval); u = 0 }, timers: t.timers, stop: function () { i = 0; clearInterval(r); r = 0; u = 0 }, setInterval: function (n) { t.timers = n }, pause: function () { u = 1 }, restore: function () { return u = 0, i } }; return t.start && (r = setInterval(function () { e() }, t.interval)), f } function combine(n, t) { var u = n.length, f, r, i; if (t > u) return []; if (t == u) return [n]; for (f = [], r = [], i = 0; i < u; i++)r[i] = 0; for (i = 0; i < t; i++)r[i] = 1; var h = !0, o = !1, e = 0, s = 0; do { for (s = 0, e = 0, o = !0, f.push(printOutput(r, n, t)), i = 0; i < u - 1; i++)if (r[i] == 1 && r[i + 1] == 0) { r[i] = 0; r[i + 1] = 1; e = i; break } for (i = 0; i < e; i++)r[i] == 1 && s++; for (i = 0; i < e; i++)r[i] = i < s ? 1 : 0; for (i = u - t; i < u; i++)if (r[i] == 0) { o = !1; break } h = o == !1 ? !0 : !1 } while (h); return f.push(printOutput(r, n, t)), f.sort(), f } function combine_num(n) { var f, o, t, r, u, i, e; try { for (f = [], t = 0; t < n.length; t++) { for (r = n[t], u = [], i = 0; i < r.length; i++)e = Number(r[i]) + 100, u.push(e); f.push(u) } for (f.sort(), o = [], t = 0; t < f.length; t++) { for (r = f[t], u = [], i = 0; i < r.length; i++)e = Number(r[i]) - 100, u.push(e); o.push(u) } return o } catch (s) { return n.sort(), n } } function printOutput(n, t) { for (var r = [], u = 0, i = 0; i < n.length; i++)n[i] == 1 && (r[u] = t[i], u++); return r } function comb(n, t) { return n == t ? 1 : t == 1 ? n : t == 0 ? 0 : n < t ? 0 : n * comb(n - 1, t - 1) / t } function ChooseArrs(n) { var u = n.length, i, r, t; if (u >= 2) { var f = n[0].length, e = n[1].length, h = f * e, o = new Array(h), s = 0; for (t = 0; t < f; t++)for (i = 0; i < e; i++)o[s] = n[0][t] instanceof Array ? n[0][t].concat(n[1][i]) : [n[0][t]].concat(n[1][i]), s++; for (r = new Array(u - 1), t = 2; t < n.length; t++)r[t - 1] = n[t]; return r[0] = o, ChooseArrs(r) } return n[0] } function IsPC() { for (var r = navigator.userAgent, t = ["Android", "iPhone", "SymbianOS", "Windows Phone", "iPad", "iPod"], i = !0, n = 0; n < t.length; n++)if (r.indexOf(t[n]) > 0) { i = !1; break } return i } function parseDate(n) { var t = n.split("-"); return new Date(t[0] - 0, t[1] - 1, t[2].substr(0, 2) - 0, 0, 0, 0) } function getDaysInMonth(n, t) { t = parseInt(t, 10) + 1; var i = new Date(n + "/" + t + "/01"); return new Date(i.getTime() - 864e5).getDate() } function MM_preload() { var n = document, t, r, i; for (n.MM_p || (n.MM_p = []), r = n.MM_p.length, i = MM_preload.arguments, t = 0; t < i.length; t++)i[t].indexOf("#") != 0 && (n.MM_p[r] = new Image, n.MM_p[r++].src = i[t]) } function isIDnum(n) { if (n = n.toLowerCase(), patten = /^[a-z][12][0-9]{8}$/, patten.test(n)) { for (h = "abcdefghjklmnpqrstuvxywzio", x = 10 + h.indexOf(n.substring(0, 1)), chksum = (x - x % 10) / 10 + x % 10 * 9, i = 1; i < 9; i++)chksum += n.substring(i, i + 1) * (9 - i); if (chksum = (10 - chksum % 10) % 10, chksum == n.substring(9, 10)) return !0 } return !1 } function RClock() { if (!isNaN(RSecond) && RSecond.length != 0) { if (RSecond == 0) { document.location.href = document.location.href; return } RSecond--; document.getElementById("pclock").innerHTML = RSecond < 10 ? "0" + RSecond : RSecond; setTimeout("RClock()", 1e3) } } function RClockRate() { isNaN(RSecond) || RSecond.length == 0 || (RSecond--, RSecond == 0 && location.replace("?op=member&fp=account"), document.getElementById("pclock").innerHTML = RSecond < 10 ? "0" + RSecond : RSecond, setTimeout("RClockRate()", 1e3)) } function MyClock() { var n, t; vMyclock && (n = new Date, n.setTime(vMyclock), vMyclock += 500, t = n.getHours() + ":" + d2(n.getMinutes()) + ":" + d2(n.getSeconds()), NS4 ? (Ypos = window.pageYOffset + window.innerHeight - 60, Xpos = window.pageXOffset + window.innerWidth - 80) : (Ypos = document.body.scrollTop + window.document.body.clientHeight - 20, Xpos = document.body.scrollLeft + window.document.body.clientWidth - 60), idMyClock.innerHTML = t, idMyClock.style.pixelTop = Ypos, idMyClock.style.pixelLeft = Xpos, setTimeout("MyClock()", 500)) } function d2(n) { return n < 10 ? "0" + n : n } function msover() { for (var n = event.srcElement; n.tagName != "TR";)n = n.parentElement; n.style.backgroundColor = "#FFFFCC" } function msout() { for (var n = event.srcElement; n.tagName != "TR";)n = n.parentElement; n.style.backgroundColor = "" } function KeyNumber(n) { var i = n || window.event, r = i.target || i.srcElement, t = i.which || i.keyCode; return t == 13 || t == 8 || t == 46 || t == 36 || t == 35 || t == 37 || t == 39 ? !0 : (t < 48 || t > 57) && (t > 95 || t < 106) ? !1 : void 0 } function CheckAccountKey(n) { var i = n || window.event, r = i.target || i.srcElement, t = i.which || i.keyCode; return t == 8 || t == 46 || t == 36 || t == 35 || t == 37 || t == 39 ? !0 : t >= 97 && t <= 122 || t >= 65 && t <= 90 || t >= 48 && t <= 57 ? !0 : !1 } function OnlyNumberKey(n) { var i = n || window.event, r = i.target || i.srcElement, t = i.which || i.keyCode; return t == 13 || t == 8 || t == 46 || t == 36 || t == 35 || t == 37 || t == 39 ? !0 : t == 46 ? !0 : t >= 48 && t <= 57 ? !0 : !1 } function OnlyInt(n) { var i = n || window.event, r = i.target || i.srcElement, t = i.which || i.keyCode; return t == 13 || t == 8 || t == 36 || t == 35 || t == 37 || t == 39 ? !0 : t >= 48 && t <= 57 ? !0 : !1 } function OnlySignInt(n) { var i = n || window.event, r = i.target || i.srcElement, t = i.which || i.keyCode; return t == 13 || t == 8 || t == 36 || t == 35 || t == 37 || t == 39 ? !0 : t >= 48 && t <= 57 ? !0 : t == 45 ? !0 : !1 } function OnlyFloat(n) { var i = n || window.event, r = i.target || i.srcElement, t = i.which || i.keyCode; return t == 13 || t == 8 || t == 46 || t == 36 || t == 35 || t == 37 || t == 39 ? !0 : t == 46 ? !0 : t >= 48 && t <= 57 ? !0 : !1 } function GetCookie(n) { for (var u = n + "=", f = u.length, e = document.cookie.length, t = 0, i, r; t < e;) { if (i = t + f, document.cookie.substring(t, i) == u) return r = document.cookie.indexOf(";", i), r == -1 && (r = document.cookie.length), unescape(document.cookie.substring(i, r)); if (t = document.cookie.indexOf(" ", t) + 1, t == 0) break } return null } function SetCookie(n, t) { var i = SetCookie.arguments, r = SetCookie.arguments.length, u = r > 2 ? i[2] : null, f = r > 3 ? i[3] : null, e = r > 4 ? i[4] : null, o = r > 5 ? i[5] : !1; document.cookie = n + "=" + escape(t) + (u == null ? "" : "; expires=" + u.toGMTString()) + (f == null ? "" : "; path=" + f) + (e == null ? "" : "; domain=" + e) + (o == !0 ? "; secure" : "") } function DeleteCookie(n) { var t = new Date; t.setTime(t.getTime() - 1); document.cookie = n + "=" + cval + "; expires=" + t.toGMTString() } function printpage() { window.print ? window.print() : alert("No printer driver in your PC") } function n2c(n) { var t, i, f, r, u, e, o, s, h; if (GetCookie("g_language") != "zh-tw" && GetCookie("g_language") != "zh-cn") return ""; if (t = "", n.length > 4) { for (i = n.length, f = i % 4 != 0 ? parseInt(i / 4) + 1 : i / 4, u = 1, r = 4; u <= f; u++)e = u == f ? i % 4 > 0 ? n2c(n.substr(0, i % 4)) : n2c(n.substr(i - r, 4)) : n2c(n.substr(i - r, 4)), e && (t = e + sOrder[u] + t), r = r + 4; return s = new RegExp("^" + sChinese[0], "ig"), h = new RegExp("(^[" + sChinese[0] + "]{1,})([^" + sChinese[0] + "]{0,})", "ig"), s.test(t) && (t = t.replace(h, "$2")), t } return n.length == 0 || !/[1-9]/ig.test(n) ? "" : (o = n.substr(0, 1), t += sChinese[o], o != 0 && (t += sLength[n.length]), t + (/^0/ig.test(n) ? n2c(n.replace(/(^0+)([1-9]*)/ig, "$2")) : n2c(n.substr(1)))) } function colornumber(n) { var t = "" + n; return t.length > 4 && (t = "<font color=#FF5500>" + t.substr(0, t.length - 4) + "<\/font>" + t.substr(t.length - 4)), t } function trim(n) { return n.replace(/^[\s]+/g, "").replace(/[\s]+$/g, "") } function initarray(n, t) { for (var i = 0; i < n; i++)this[i] = t; return this } function push(n, t) { for (var i = n.length - 1; i > 0; i--)n[i] = n[i - 1]; n[0] = t } function popup(n, t, i, r) { t || (t = "_self"); i || (i = 500); r || (r = 500); var u = window.open(n, t, "menu=0,width=" + i + ",height=" + r + ",resizable=1,scrollbars=1"); return u.focus(), u } function isFloat(n) { return typeof n == "number" && n % 1 != 0 } function alertMessage(n, t) { alertMessageCallbackFun = t; $("#dialogalert").length == 0 && ($("body").append('<div id="dialogalert"><\/div>'), $("#dialogalert").dialog({ autoOpen: !1, title: "系统消息框", model: !0, width: 500, buttons: { "确定": function () { $(this).dialog("close"); alertMessageCallbackFun && alertMessageCallbackFun() }, "取消": function () { $(this).dialog("close") } }, create: function () { $(this).closest(".ui-dialog").find(".ui-button").css({ height: "28px" }) } })); $("#dialogalert").html("" + n + ""); $("#dialogalert").dialog("open") } function findByCode(n, t) { for (var i in t) if (t[i].code == n) return t[i] } function findkeyByCode(n, t) { for (var i in t) if (t[i].code == n) return i } function nowdate() { now.setTime(now.getTime() + 1e3); setTimeout("nowdate()", 1e3); var n = $("#hktime"); n.length > 0 && n.html("现在" + now.getDate() + "日 " + d2(now.getHours()) + " : " + d2(now.getMinutes()) + " : " + d2(now.getSeconds()) + "") } function d2(n) { return (n + "").length == 1 && (n = "0" + n), n } function countdown() { var n = timestap, u = Math.floor(n / 86400), i, r, e, t, f; n -= u * 86400; i = Math.floor(n / 3600); n -= i * 3600; r = Math.floor(n / 60); n -= r * 60; e = Math.floor(n); t = "离截止下注 "; u > 0 && (t += "" + u + "天 "); i > 0 && (t += "" + i + "时 "); r > 0 && (t += "" + d2(r) + "分 "); t += "" + d2(e) + "秒"; f = $("#countdownstr"); f.length > 0 && f.html(t); countdownHandler == 0 && (countdownHandler = setInterval(countdown, 1e3)); timestap -= 1; timestap == 0 && (location.reload(), timestap = 0) } function stopCountdown() { countdownHandler > 0 && (clearInterval(countdownHandler), countdownHandler = 0) } function clearNoNum(n, t) { (n = window.event || n, n.keyCode == 37 | n.keyCode == 39) || (t.value = t.value.replace(/[^\d.]/g, ""), t.value = t.value.replace(/^\./g, ""), t.value = t.value.replace(/\.{2,}/g, "."), t.value = t.value.replace(".", "$#$").replace(/\./g, "").replace("$#$", ".")) } function checkNum(n) { n.value = n.value.replace(/\.$/g, "") } function setDifTime(n, t) { var r = n.getTime() + t * 864e5, i = new Date; return i.setTime(r), i } function getLastWeekDate1() { var t = new Date, n = now.getDay(), i; return n == 0 && (n = 7), i = now.getTime() - (n + 6) * 864e5, t.setTime(i), t } function getLastWeekDate7() { var t = new Date, n = now.getDay(), i; return n == 0 && (n = 7), i = now.getTime() - n * 864e5, t.setTime(i), t } function getThisWeekDate1() { var t = new Date, n = now.getDay(), i; return n == 0 && (n = 7), i = now.getTime() - (n - 1) * 864e5, t.setTime(i), t } function getTwdx(n) { var i = [5, 6, 7, 8, 9, 15, 16, 17, 18, 19, 25, 26, 27, 28, 29, 35, 36, 37, 38, 39, 45, 46, 47, 48], r = [1, 2, 3, 4, 10, 20, 30, 40, 11, 12, 13, 14, 21, 22, 23, 24, 31, 32, 33, 34, 41, 42, 43, 44], t; for (n = +n, t = 0; t < i.length; t++)if (i[t] == n) return "大"; for (t = 0; t < r.length; t++)if (r[t] == n) return "小"; return "和" } function autoSize(n, t) { var i = $("#" + n), r = i.position(), u = r.top, f = t == undefined ? 0 : t; i.height($(window).height() - u - 105 - f) } function html_encode(n) { var t = ""; return n.length == 0 ? "" : (t = n.replace(/&/g, "&gt;"), t = t.replace(/</g, "&lt;"), t = t.replace(/>/g, "&gt;"), t = t.replace(/ /g, "&nbsp;"), t = t.replace(/\'/g, "&#39;"), t = t.replace(/\"/g, "&quot;"), t.replace(/\n/g, "<br>")) } function html_decode(n) { var t = ""; return n.length == 0 ? "" : (t = n.replace(/&gt;/g, "&"), t = t.replace(/&lt;/g, "<"), t = t.replace(/&gt;/g, ">"), t = t.replace(/&nbsp;/g, " "), t = t.replace(/&#39;/g, "'"), t = t.replace(/&quot;/g, '"'), t.replace(/<br>/g, "\n")) } function bindingHover() { $("table.list tbody tr:not(.head)").hover(function () { $(this).addClass("hover") }, function () { $(this).removeClass("hover") }) } function setLimit() { $("#memberInfo").html('<span style="color:white"><b>余额：<\/b><span id="spanAccountMoneyLimit">' + Lhc.user.baseInfo.moneyLimit + "<\/span><\/span>") } function navImgShowHide() { var t = $(window).width(), n = 0; n = ($(".top-menu img").length || 0) * 185; n < t ? $(".top-nav").hide() : $(".top-nav").show() } function topTo() { document.getElementById("frame").scrollIntoView() } function promptHK6Status(n) { n != "" && n != undefined && $.ajax({ type: "POST", dataType: "json", url: _root + "/Home/GetHK6Notice", data: { lotterytype: n } }).done(function (t) { var r = t.data, u, i; if (t.State == 1) { var f = "GetHK6Notice." + n, e = r.lotteryName + "_" + r.openString, o = store.get(f); if (o == e) return; store.set(f, e); r.status == 1 ? (u = "<div style='text-align:center; height: 75px'> <image src = '../default/css/images/info.png'> <\/div><div style='text-align:center; font-size:20px; font-weight:bold'> " + r.lotteryName + "现已关盘 <\/div><div style='text-align:center; font-size:12px;'> 下期开盘时间为 <\/div><div style='text-align:center; font-size:15px; margin-top: 2px; color: green'> " + r.openString + " <\/div>", i = $("#dialogNoticeHK6"), i = $('<div id="dialogNoticeHK6" class="word_wrap">'), i.dialog({ autoOpen: !0, modal: !0, title: "温馨提示", width: 350, height: 290, buttons: { "关闭": function () { $(this).dialog("close") } } }), i.html(u), i.dialog("open")) : (u = "<div style='text-align:center; height: 75px'> <image src = '../default/css/images/info.png'> <\/div><div style='text-align:center; font-size:20px; font-weight:bold'> " + r.lotteryName + "现已关盘 <\/div>", i = $("#dialogNoticeHK6"), i = $('<div id="dialogNoticeHK6" class="word_wrap">'), i.dialog({ autoOpen: !0, modal: !0, title: "温馨提示", width: 350, height: 290, buttons: { "关闭": function () { $(this).dialog("close") } } }), i.html(u), i.dialog("open")) } }) } function setTab(n, t, i) { (t == "HK6" || t == "LHC" || t == "F36X7" || t == "F31X7") && promptHK6Status(n); lotteryType = n; _topTemplateCode = t; _lotteryName = $(i).html(); OpenResultUrl(n); $("#items .item  a").removeClass("selected"); $(".itemmg a").removeClass("selected"); $(i).addClass("selected"); var r = $(i).data("info"); currentLottery && r.id == currentLottery.id || (currentLottery = r, refreshMenu && refreshMenu()); $(".sub_box .submenu").hide(); $("#child_" + n).show(); $("#l_FT span .Fb_football_hot").length === 0 && $("#l_FT span").prepend('<label class="Fb_football_hot" />'); lotteryType === "FT" ? ($("#result_info").hide(), $("#result_balls").hide(), $(".top_w .menu1").hide(), $("#Fb_EU_Cup_Top_Ad").length === 0 && $(".top_w .top_box").append('<a href="https://nizb.xyz/24D7h" target="_blank" id="Fb_EU_Cup_Top_Ad" />'), $(".sub_box").addClass("Fb_sub_box"), $("#menuleft").hide(), $("#content").css({ "padding-left": "0px" }), $("#fbtypes a:first").addClass("Fb_c_curr_selected"), $("#fbtypes a").click(function () { $("#fbtypes a").removeClass("Fb_c_curr_selected"); $(this).addClass("Fb_c_curr_selected") }), $("#fbsports a:first").addClass("Fb_c_curr_selected")) : ($("#Fb_EU_Cup_Top_Ad").remove(), $("#Fb_EU_Cup_Ad").length === 0 && $("#mainMenuLeft").append('<a href="https://nizb.xyz/24D7h" target="_blank"  id="Fb_EU_Cup_Ad" />'), $("#result_info").show(), $("#result_balls").show(), $(".top_w .menu1").show(), $(".sub_box").removeClass("Fb_sub_box"), $("#menuleft").show(), $("#content").css({ "padding-left": "220px" })); $("#child_" + n).find("a:eq(0)")[0].click(); $("#resultHisList").prop("href", _root + "/ResultHistory/Index?page=" + n); $("#resultRule").prop("href", _root + "/GameRule/Index?page=" + n + "&show=true"); changeLotterySkin(lotteryType); store.set(_SELECTEDKEY + userloginId, lotteryType); $("#resultLotName").html(_lotteryName); PankouUpdater.pankouUrl = _root + "/PlaceBet/GetCurrentInstall?lotteryType=" + lotteryType; PankouUpdater.lotteryResults_temp = ""; PankouUpdater.load() } function changeLotterySkin(n) { var i = $("#lotStyle").attr("href"), r = i.substr(i.indexOf("=") + 1), t = _lotterySkinTheme[n]; t && t != "" ? $("#lotStyle").attr("href", "/default/css/Skins/" + t + "/skinbd.min.css?v=" + r) : $("#lotStyle").attr("href", "/default/css/Skins/" + _defaultUserSkin + "/skinbd.min.css?v=" + r) } function showUserAccount(n) { $("#mainMenuLeft .userAccType").each(function (t, i) { var r = $(i).attr("accType"); +r == +n ? $(i).show() : $(i).hide() }) } function OpenResultUrl(n) { var t = "/Home/RedirectLink?LotteryType=" + n; $("#result_balls").prop("href", t) } function Tab(n, t, r) { for (i = 1; i <= r; i++) { var u = document.getElementById(n + i), f = document.getElementById("con_" + n + "_" + i); u.className = i == t ? "hover" : ""; f.style.display = i == t ? "block" : "none" } } function backLastBets() { loadUnCheckBetByLotteryType(lotteryType); $(".noBet").hide(); $(".lastbet").show(); $(".betting").hide(); $(".betting").html("") } function loadUnCheckBetByLotteryType(n) { $.ajax({ type: "POST", dataType: "json", url: _root + "/PlaceBet/Topbetlist", data: { top: 15, lotterytype: n } }).done(function (n) { var t, r, i, u, f; if ("State" in n && n.State == -2) { top.location.href = "/?msg=您的帐号会话已经超时或在其它地方被登陆！"; return } if (t = n, t.length > 0) { for (r = "<li><p style='white-space:nowrap;overflow: hidden; text-overflow:ellipsis;'  title='{OddNo}'>单号：<span class=\"bid\">{OddNo}<\/span><\/p><p class=\"contents\"><span class=\"text\" title='{MidType} {DisplayName}@{Odds}' style='color:blue;'>{MidType} {DisplayName}<\/span> @<span style='color:red;'> {Odds}<\/span><\/p><p>下注额：￥{Amount}<\/p><\/li>", i = 0; i < t.length; i++)t[i].MidType == "对子" && (t[i].MidType = ""); u = dataTemplate(r, t, undefined); f = '<ul class="bets">' + u + "<\/ul>"; ShowBetLast(f); $("#menuleft .left_menu").scroll() } else $(".lastbet").show(), $(".betting").hide(), $("#con_two_1 .lastbet").html('<div style="height: 100px; font-size: 26px; text-align: center; line-height: 100px; " class="noBet">暂无注单<\/div>') }) } function iniDrawSiteEvent(n) { $("#result_balls span").click(function () { $(this).hasClass("live") ? openDrawLive(n) : openDrawKjSite(n) }) } function iniDrawLive(n) { var i, t; for (i in top._drawSitesBase) if (t = top._drawSitesBase[i], t.LotteryType == n && t.ZpSiteUrl) return '<span class="live" ><b class="b_live">&nbsp;<\/b><i>直播<\/i><\/span>'; return "" } function openDrawKjSite(n) { var i, t; for (i in top._drawSitesBase) if (t = top._drawSitesBase[i], t.LotteryType == n) { t.KJSiteUrl && window.open(t.KJSiteUrl); return } } function openDrawLive(n) { var i, t; for (i in top._drawSitesBase) if (t = top._drawSitesBase[i], t.LotteryType == n) { t.ZpSiteUrl && window.open(t.ZpSiteUrl); break } return } function ShowBetting(n) { $(".left_con .item").hide(); $(".left_con #con_two_1").show(); $(".left_con #con_two_1 .lastbet").hide(); $(".left_con #con_two_1 .betting").show().html(n); $(".left_tab a").removeClass("hover"); $(".left_tab #two1").addClass("hover"); $("#menuleft .left_menu").scroll() } function ShowBetLast(n) { $(".left_con .item").hide(); $(".left_con #con_two_1").show(); $(".left_con #con_two_1 .lastbet").show().html(n); $(".left_con #con_two_1 .betting").hide(); $(".left_tab a").removeClass("hover"); $(".left_tab #two1").addClass("hover"); $("#menuleft .left_menu").scroll() } function recycle() { Dialog.Load("刷新余额中..."); $.ajax({ type: "post", dataType: "json", data: { FromSite: "WEB" }, url: "/OutSite/Recycle?_=" + Math.random(6), success: function (n) { try { updateAccount() } catch (t) { console.log("刷新余额异常！") } n.State == 1 ? Dialog.Alert("刷新成功！", []) : Dialog.Alert(n.Msg, []); setTimeout(function () { Dialog.Close() }, 3e3) }, error: function () { Dialog.Error("网络发生异常，重复出现请联系客服！", []) } }) } var store = function () { var t = {}, i = window, f = i.document, r = "localStorage", e = "globalStorage", n; if (t.set = function () { }, t.get = function () { }, t.remove = function () { }, t.clear = function () { }, r in i && i[r]) n = i[r], t.set = function (t, i) { n.setItem(t, i) }, t.get = function (t) { return n.getItem(t) }, t.remove = function (t) { n.removeItem(t) }, t.clear = function () { n.clear() }; else if (e in i && i[e]) n = i[e][i.location.hostname], t.set = function (t, i) { n[t] = i }, t.get = function (t) { return n[t] && n[t].value }, t.remove = function (t) { delete n[t] }, t.clear = function () { for (var t in n) delete n[t] }; else if (f.documentElement.addBehavior) { function u() { return n ? n : (n = f.body.appendChild(f.createElement("div")), n.style.display = "none", n.addBehavior("#default#userData"), n.load(r), n) } t.set = function (n, t) { var i = u(); i.setAttribute(n, t); i.save(r) }; t.get = function (n) { var t = u(); return t.getAttribute(n) }; t.remove = function (n) { var t = u(); t.removeAttribute(n); t.save(r) }; t.clear = function () { var n = u(), f = n.XMLDocument.documentElement.attributes, t, i; for (n.load(r), t = 0; i = f[t]; t++)n.removeAttribute(i.name); n.save(r) } } return t }(), MAX_DIVIDEND, SOUND_URL, _LS, _LIC = 8, _lastResult, sideUserTitle, resetTimer, currentLottery, accountTimer, userparams, betting = !1, userloginId = "", _lastBetsTimer, _resultTimer, dataTemplate, alertMessageCallbackFun, timestap, countdownHandler, hisBetList; $.ajaxSetup({ cache: !1 }); $(function () { initMenu(); $("#betAmount").keypress(function (n) { 13 == n.keyCode && $("#btnBet").click() }); var n = !1; $(".lotterys .menumoregame,.lotterys .gamecontainer").hover(function () { clearTimeout($(".lotterys .gamecontainer").show().data("timer")); $(".lotterys .menumoregame").addClass("selected2") }, function () { if (!n) { var t = $(".lotterys .gamecontainer"); t.data("timer", setTimeout(function () { t.hide(); refreshMenu && refreshMenu() }, 200)) } }); $(".editon .gamebtn1").click(function () { $(".editon").css("display", "none"); $(".editoff").css("display", "block"); $(".addbtn").css("display", "block"); $(".removebtn").css("display", "block"); $("#items").sortable({ disabled: !1 }); n = !0 }); $(".editoff .gamebtn2").click(function () { location.reload() }); $(".editoff .gamebtn1").click(function () { var t, i, r, e, o; $("#items").sortable({ disabled: !0 }); $(".editon").css("display", "block"); $(".editoff").css("display", "none"); $(".addbtn").css("display", "none"); $(".removebtn").css("display", "none"); $(".gamecontainer").css("display", "none"); var s = $("#items .item").length, h = $(".itemmg").length, u = [], f = []; for (t = 0; t < s; t++)i = $("#items .item a").eq(t), r = i.attr("id").substr(2), u.push(r); for (t = 0; t < h; t++)i = $(".itemmg a").eq(t), r = i.attr("id").substr(2), f.push(r); e = u.join(","); o = f.join(","); store.set("_menu_" + userloginId, e); store.set("_menumore_" + userloginId, o); n = !1; refreshMenu && refreshMenu() }) }); $(document).on("click", ".removebtn", function () { var n = $("#items .item").length, t; n == 1 ? showMsg("最少要保留一个游戏！") : (t = $(this).parent().find("a"), n = $(".itemmg").length, $(".gamebox").append("<div class='itemmg'><\/div>"), $(t).appendTo(".itemmg:eq(" + n + ")"), $(".itemmg:eq(" + n + ")").append("<div class='addbtn'><\/div>"), $(this).parent().parent().remove(), $(".addbtn").css("display", "block"), $(".removebtn").css("display", "block")) }); $(document).on("click", ".addbtn", function () { var n = $("#items .item").length, t; n == _LIC ? showMsg("最多可以添加" + _LIC + "个游戏！") : (t = $(this).parent().find("a"), $(".items").append("<li class='ui-sortable-handle'><div class='item'><\/div><\/div>"), $(t).appendTo(".item:eq(" + n + ")"), $(".item:eq(" + n + ")").append("<div class='removebtn'><\/div>"), $(this).parent().remove()); $(".addbtn").css("display", "block"); $(".removebtn").css("display", "block") }); var msgPopUpIds = [], msgMarquee = "", RERESH_ONLINE = 60; $(function () { var t = function () { LIBS.ajax({ url: _root + "/Notices/Msg", cache: !1, type: "POST", success: function (n) { var i, r, t; if (n.State == 1) { if (i = n.data, i.length > 0) { for (t = i.length - 1; t >= 0; t--)i[t].popup == 1 && msgPopUpIds.indexOf(i[t].id) < 0 && (msgPopUpIds.push(i[t].id), r = $("#dialogNoticeNew"), r = $('<div id="dialogNoticeNew" class="word_wrap">'), r.dialog({ autoOpen: !0, modal: !0, title: "最新公告", width: 450, height: 300, buttons: { "确定": function () { $(this).dialog("close") } } }), r.html(i[t].content), r.dialog("open")); var u = "", f = $("<marquee>").attr("scrollamount", "2"), e = "style='margin-left:" + $(".foot_box .info").width() + "px'"; for (t = 0; t < i.length; t++)u += "<span " + (t > 0 ? e : "") + ">" + i[t].content + "<\/span>"; msgMarquee != u && (msgMarquee = u, $(".foot_box .info").html(f.append(msgMarquee))) } $("#con_two_2, .foot_box .more_c").click(function () { var n = $("#moreNotice"); 0 == n.length && (n = $('<div id="moreNotice">'), n.dialog({ autoOpen: !1, modal: !0, title: "历史公告", width: 800, height: 500, buttons: { "关闭": function () { $(this).dialog("close") } } })); n.empty().load(_root + "/Notices/notification"); n.dialog("open") }) } else n.State == -2 && (top.location.href = "/?msg=您的帐号会话已经超时或在其它地方被登陆！") } }) }, n; t(); setInterval(t, 3e5); n = function () { $.ajax({ type: "POST", dataType: "json", url: _root + "/Member/Online", data: {}, error: function () { } }).done(function (n) { n.State == -2 && (top.location.href = _root + "/?msg=您的帐号会话已经超时或在其它地方被登陆！") }) }; n(); setInterval(n, 1e3 * RERESH_ONLINE) }); Array.indexOf || Array.prototype && (Array.prototype.indexOf = function (n) { for (var t = 0; t < this.length; t++)if (this[t] == n) return t; return -1 }); Array.remove || Array.prototype && (Array.prototype.remove = function (n) { for (var t = this.length - 1; t >= 0; t--)this[t] == n && this.splice(t, 1) }); Array.clear || (Array.prototype.clear = function () { this.length = 0 }); Array.insertAt || (Array.prototype.insertAt = function (n, t) { this.splice(n, 0, t) }); Array.removeAt || (Array.prototype.removeAt = function (n) { this.splice(n, 1) }); Array.remove || (Array.prototype.remove = function (n) { var t = this.indexOf(n); t >= 0 && this.removeAt(t) }); var CONST_ZODIACS = ["鼠", "牛", "虎", "兔", "龙", "蛇", "马", "羊", "猴", "鸡", "狗", "猪"], CONST_NUMS = ["01,13,25,37,49", "02,14,26,38", "03,15,27,39", "04,16,28,40", "05,17,29,41", "06,18,30,42", "07,19,31,43", "08,20,32,44", "09,21,33,45", "10,22,34,46", "11,23,35,47", "12,24,36,48"], arrWxNo = [{ begindate: "2015-02-19", enddate: "2016-02-07", j: "01,02,15,16,23,24,31,32,45,46", m: "05,06,13,14,27,28,35,36,43,44", s: "03,04,11,12,19,20,33,34,41,42,49", h: "07,08,21,22,29,30,37,38", t: "09,10,17,18,25,26,39,40,47,48" }, { begindate: "2016-02-08", enddate: "2017-01-27", j: "02,03,16,17,24,25,32,33,46,47", m: "06,07,14,15,28,29,36,37,44,45", s: "04,05,12,13,20,21,34,35,42,43", h: "01,08,09,22,23,30,31,38,39", t: "10,11,18,19,26,27,40,41,48,49" }, { begindate: "2017-01-28", enddate: "2018-02-15", j: "03,04,17,18,25,26,33,34,47,48", m: "07,08,15,16,29,30,37,38,45,46", s: "05,06,13,14,21,22,35,36,43,44", h: "01,02,09,10,23,24,31,32,39,40", t: "11,12,19,20,27,28,41,42,49" }, { begindate: "2018-02-16", enddate: "2019-02-04", j: "04,05,18,19,26,27,34,35,48,49", m: "01,08,09,16,17,30,31,38,39,46,47", s: "06,07,14,15,22,23,36,37,44,45", h: "02,03,10,11,24,25,32,33,40,41", t: "12,13,20,21,28,29,42,43" }, { begindate: "2019-02-05", enddate: "2020-01-24", j: "05,06,19,20,27,28,35,36,49", m: "01,02,09,10,17,18,31,32,39,40,47,48", s: "07,08,15,16,23,24,37,38,45,46", h: "03,04,11,12,25,26,33,34,41,42", t: "13,14,21,22,29,30,43,44" }, { begindate: "2020-01-25", enddate: "2021-02-11", j: "06,07,20,21,28,29,36,37", m: "02,03,10,11,18,19,32,33,40,41,48,49", s: "08,09,16,17,24,25,38,39,46,47", h: "04,05,12,13,26,27,34,35,42,43", t: "01,14,15,22,23,30,31,44,45" }, { begindate: "2021-02-12", enddate: "2022-01-31", j: "07,08,21,22,29,30,37,38", m: "03,04,11,12,19,20,33,34,41,42,49", s: "09,10,17,18,25,26,39,40,47,48", h: "05,06,13,14,27,28,35,36,43,44", t: "01,02,15,16,23,24,31,32,45,46" }, { begindate: "2022-02-01", enddate: "2023-01-21", j: "01,08,09,22,23,30,31,38,39", m: "04,05,12,13,20,21,34,35,42,43", s: "10,11,18,19,26,27,40,41,48,49", h: "06,07,14,15,28,29,36,37,44,45", t: "02,03,16,17,24,25,32,33,46,47" }, { begindate: "2023-01-22", enddate: "2024-02-09", j: "01,02,09,10,23,24,31,32,39,40", m: "05,06,13,14,21,22,35,36,43,44", s: "11,12,19,20,27,28,41,42,49", h: "07,08,15,16,29,30,37,38,45,46", t: "03,04,17,18,25,26,33,34,47,48" }, { begindate: "2024-02-10", enddate: "2099-02-09", j: "01,02,09,10,23,24,31,32,39,40", m: "05,06,13,14,21,22,35,36,43,44", s: "11,12,19,20,27,28,41,42,49", h: "07,08,15,16,29,30,37,38,45,46", t: "03,04,17,18,25,26,33,34,47,48" }]; var REDBALL = ["01", "02", "07", "08", "12", "13", "18", "19", "23", "24", "29", "30", "34", "35", "40", "45", "46"], BLUEBALL = ["03", "04", "09", "10", "14", "15", "20", "25", "26", "31", "36", "37", "41", "42", "47", "48"], GREENBALL = ["05", "06", "11", "16", "17", "21", "22", "27", "28", "32", "33", "38", "39", "43", "44", "49"], AllBALL = ["01", "02", "03", "04", "05", "06", "07", "08", "09", "10", "11", "12", "13", "14", "15", "16", "17", "18", "19", "20", "21", "22", "23", "24", "25", "26", "27", "28", "29", "30", "31", "32", "33", "34", "35", "36", "37", "38", "39", "40", "41", "42", "43", "44", "45", "46", "47", "48", "49"]; String.prototype.CutStr = function (n, t) { return this == null || this == "" ? "" : ((t == null || t == undefined) && (t = "..."), this.length > n ? this.substring(0, n) + t : this.toString()) }; var NS4 = document.layers, IE4 = document.all, ver4 = NS4 || IE4, IE5 = IE4 && navigator.appVersion.indexOf("5.") != -1, isMac = navigator.appVersion.indexOf("Mac") != -1, isMenu = NS4 || IE4 && !isMac || IE5 && isMac, browerAgent = navigator.userAgent.toLowerCase(); $.browser = {}; $.browser.msie = /msie/.test(browerAgent); $.browser.safari = /webkit/.test(browerAgent); $.browser.opera = /opera/.test(browerAgent); $.browser.mozilla = /mozilla/.test(browerAgent); $.ajaxSetup({ cache: !1 }); String.prototype.replaceTemplate = function (n) { for (var e, u, f = this, i = f.match(/\{[_a-zA-Z0-9]+\}/gi), r = f, t = 0; t < i.length; t++)e = i[t].replace(/[\{\}]/gi, ""), u = n[e], u != undefined && (r = r.replace(i[t], u)); return r }; String.prototype.replaceTemplateArray = function (n) { for (var r, u, i, s, f, e = "", o = this, t = 0; t < n.length; t++)if (n[t] != undefined && n[t] != null) { for (r = o.match(/\{[_a-zA-Z0-9]+\}/gi), u = o, i = 0; i < r.length; i++)s = r[i].replace(/[\{\}]/gi, ""), f = n[t][s], f != undefined && (u = u.replace(r[i], f)); e += u } return e }; String.prototype.startWith = function (n) { var t = new RegExp("^" + n); return t.test(this) }; String.prototype.endWith = function (n) { var t = new RegExp(n + "$"); return t.test(this) }; Date.prototype.Format = function (n) { var i = { "M+": this.getMonth() + 1, "d+": this.getDate(), "h+": this.getHours(), "m+": this.getMinutes(), "s+": this.getSeconds(), "q+": Math.floor((this.getMonth() + 3) / 3), S: this.getMilliseconds() }, t; /(y+)/.test(n) && (n = n.replace(RegExp.$1, (this.getFullYear() + "").substr(4 - RegExp.$1.length))); for (t in i) new RegExp("(" + t + ")").test(n) && (n = n.replace(RegExp.$1, RegExp.$1.length == 1 ? i[t] : ("00" + i[t]).substr(("" + i[t]).length))); return n }; Date.prototype.pattern = function (n) { var i = { "M+": this.getMonth() + 1, "d+": this.getDate(), "h+": this.getHours() % 12 == 0 ? 12 : this.getHours() % 12, "H+": this.getHours(), "m+": this.getMinutes(), "s+": this.getSeconds(), "q+": Math.floor((this.getMonth() + 3) / 3), S: this.getMilliseconds() }, t; /(y+)/.test(n) && (n = n.replace(RegExp.$1, (this.getFullYear() + "").substr(4 - RegExp.$1.length))); /(E+)/.test(n) && (n = n.replace(RegExp.$1, (RegExp.$1.length > 1 ? RegExp.$1.length > 2 ? "/u661f/u671f" : "/u5468" : "") + { "0": "日", "1": "一", "2": "二", "3": "三", "4": "四", "5": "五", "6": "六" }[this.getDay() + ""])); for (t in i) new RegExp("(" + t + ")").test(n) && (n = n.replace(RegExp.$1, RegExp.$1.length == 1 ? i[t] : ("00" + i[t]).substr(("" + i[t]).length))); return n }; String.prototype.startWith = function (n) { return n == null || n == "" || this.length == 0 || n.length > this.length ? !1 : this.substr(0, n.length) == n ? !0 : !1 }; dataTemplate = function (n, t, i, r) { for (var s, f, e, o, h = "", u = 0; u < t.length; u++)if (t[u] != undefined && t[u] != null) { for (s = n.match(/\{[a-zA-Z0-9]+\}/gi), f = "", e = 0; e < s.length; e++)f == "" && (f = n), o = s[e].replace(/[\{\}]/gi, ""), i && r && r.indexOf(o) > -1 && t[u][o] && t[u][o].toFixed ? i == 0 ? emp = f.replace(s[e], parseInt(t[u][o])) : f = f.replace(s[e], t[u][o].toFixed(i)) : f = f.replace(s[e], t[u][o]); h += f } return h }; alertMessageCallbackFun = null; timestap = 0; countdownHandler = 0; var Dialog = { IsShow: function () { var n = $("#dialog"); return n.length > 0 && n.is(":visible") ? !0 : !1 }, Close: function () { try { window.$("#dialog").dialog("close").remove() } catch (n) { console.log(n) } try { window.top.$("#dialog").dialog("close").remove() } catch (n) { console.log(n) } }, _show: function (n, t, i, r, u, f) { Dialog.Close(); var e = window.top.$('<div id="dialog"><\/div>'); e.html('<div class="dialog-html"><span class="img"><\/span>' + t + "<\/div>"); e.dialog({ resizable: !1, modal: !0, buttons: i, title: n, dialogClass: f, minWidth: r, minHeight: u }) }, Load: function (n) { var t = window.top.$('<div id="dialog"><\/div>'); t.html('<div class="dialog-html">' + n + "<\/div>"); t.dialog({ resizable: !1, modal: !0, buttons: {}, title: "", dialogClass: "dialog-loading dialog-no-title", width: 190, minHeight: 50 }) }, Alert: function (n, t) { t.length == 0 && (t = [{ text: "确定", click: function () { Dialog.Close() } }]); Dialog._show("", n, t, 250, 100, "dialog-alert dialog-no-title") }, Error: function (n, t) { t.length == 0 && (t = [{ text: "确定", click: function () { Dialog.Close() } }]); Dialog._show("", n, t, 250, 100, "dialog-error dialog-no-title") }, Confirm: function (n, t, i) { Dialog._show(n, t, i, 250, 150, "dialog-confirm") } }, _lotteryName, lotteryType, _ShengXiaoYear, _SELECTEDKEY = "selectedLottery", RERESH_INSTALLMENTS = 10, RERESH_ACCOUNT = 10, PankouUpdater = {}, _sumpoint = 1, _topTemplateCode = "", _kjHost = "", UseState = 0, _ftType = 0, _defaultUserSkin = "blue", _lotterySkinTheme = {}, setFantanType = function (n) { _ftType = n; PankouUpdater.currentPk && PankouUpdater.showPankouInfo(PankouUpdater.currentPk) }, updateAccount = function () { $.ajax({ type: "POST", dataType: "json", url: baseUrl + "/PlaceBet/QueryResult?lotteryType=" + lotteryType, data: {}, error: function () { } }).done(function (n) { var i, t; if (n) { if ("State" in n && n.State == -2) { top.location.href = "/?msg=您的帐号会话已经超时或在其它地方被登陆！"; return } if (i = n.AccType, typeof n.Result != "undefined" && $("#frame").contents().find("#bresult").text(n.Result).attr("title", n.Result), typeof n.UnResult != "undefined" && ($("#unSettleAmount_" + i).text(n.UnResult), $("#unSettleAmount").text(n.UnResult)), typeof n.accountLimit != "undefined" && $("#accountLimit_" + i).text(n.accountLimit).attr("title", n.accountLimit), typeof n.accountLimitList != "undefined") for (t in n.accountLimitList) $("#" + t).text(n.accountLimitList[t]).attr("title", n.accountLimitList[t]) } }) }; $(document).ready(function () { var t, i, r; IsPC() && $("#content").removeClass("ios"); UseState == 2 && (t = $("#dialogStatus"), 0 == t.length && (t = $('<div id="dialogStatus">'), t.dialog({ autoOpen: !0, modal: !0, title: "提示", width: 400, height: 150, buttons: { "确定": function () { $(this).dialog("close") } } })), t.html("该帐号已被暂停（只限账务功能可用），请与上级联系!"), t.dialog("open")); navImgShowHide(); $(window).resize(function () { navImgShowHide() }); PankouUpdater = { kjHmDiv: "result_balls", kjInstallNoDiv: "divResultInstallNo", pankouUrl: "", currentPk: {}, Installments_temp: null, lotteryResults_temp: null, kaijiangSound: "/default/media/ring_01.wav", load: function () { $.ajax({ type: "POST", dataType: "json", url: PankouUpdater.pankouUrl, data: {}, error: function () { } }).done(function (n) { PankouUpdater.currentPk = n; frame.window.UpdateCurrentInstall && frame.window.UpdateCurrentInstall(n); PankouUpdater.resultChange(n, !1) }) }, timer: createBackgroudTimer({ timers: RERESH_INSTALLMENTS, callback: function () { PankouUpdater.timer.restore(); PankouUpdater.refleshPK() }, tickcallback: function () { } }), resetTimer: function () { PankouUpdater.timer.start() }, refleshPK: function () { $.ajax({ type: "POST", dataType: "json", url: PankouUpdater.pankouUrl, data: {}, error: function () { } }).done(function (n) { if (n.State == -2) { top.location.href = "/?msg=您的帐号会话已经超时或在其它地方被登陆！"; return } PankouUpdater.currentPk = n; frame.window.UpdateCurrentInstall && frame.window.UpdateCurrentInstall(n); PankouUpdater.resultChange(n, !0) }) }, resultChange: function (n, t) { var i = n.LotteryResult != null ? n.LotteryResult : n.PreLotteryResult; PankouUpdater.lotteryResults_temp != i && i != "" && (PankouUpdater.showPankouInfo(n), frame.window.G_isHk6Type != 1 && (updateAccount(), loadUnCheckBetByLotteryType(lotteryType)), frame.window.loadChangLong && _topTemplateCode != "K3" && frame.window.loadChangLong(), frame.window.Results && frame.window.Results.load(_ftType), t && playSound(PankouUpdater.kaijiangSound)) }, showPankouInfo: function (n) { var l, y, a, f, o, h, v, p, w, b, r, u, i; if (n) { var e = n, c = "", s = "", t = []; if (e.LotteryResult ? (s = e.PreShengXiaoYear, c = e.Installments, t = e.LotteryResult.split(","), PankouUpdater.lotteryResults_temp = e.LotteryResult) : e.PreLotteryResult && (s = e.PreShengXiaoYear, c = e.PreInstallments, t = e.PreLotteryResult.split(","), PankouUpdater.lotteryResults_temp = e.PreLotteryResult), $("#" + PankouUpdater.kjInstallNoDiv).html(c + "期开奖"), $("#" + PankouUpdater.kjHmDiv).html(""), _topTemplateCode == "" && (l = $("#l_" + lotteryType).attr("lang"), _topTemplateCode = l.length > 0 ? l.split("_")[0] : lotteryType), $("#result_balls").removeClass().addClass("T_" + (_topTemplateCode == "LHC" ? "HK6" : _topTemplateCode)), _topTemplateCode == "HK6" || _topTemplateCode == "LHC") if (r = "", t.length > 0) { for (i = 0; i < t.length; i++)i == 6 && t[i] != null && t[i] != "" && (r += '<span class="plus">+<\/span>'), r += '<span><b class="b' + t[i] + '">' + t[i] + "<\/b><i>" + getAnimalByNum(s, t[i]) + "<\/i><\/span>"; r += iniDrawLive(lotteryType); $("#" + PankouUpdater.kjHmDiv).html(r) } else y = [{ Ping: "-", Sx: "-" }, { Ping: "-", Sx: "-" }, { Ping: "-", Sx: "-" }, { Ping: "-", Sx: "-" }, { Ping: "-", Sx: "-" }, { Ping: "-", Sx: "-" }, { Ping: "-", Sx: "-" }], tmp = '<span><b class="b{Ping}" style="background: url()">{Ping}<\/b><i>{Sx}<\/i><\/span>', a = tmp.replaceTemplateArray(y), a += '<span class="plus">+<\/span>' + tmp.replaceTemplate({ Ping: "-", Sx: "-" }), $("#" + PankouUpdater.kjHmDiv).html(a); else if (_topTemplateCode == "PCDD") { if (r = "", t.length > 0) r += '<span class="balls ' + t[0] + '"><b class="b' + t[0] + '">' + t[0] + "<\/b><\/span>", r += '<span class="plus50">+<\/span>', r += '<span class="balls ' + t[1] + '"><b class="b' + t[1] + '">' + t[1] + "<\/b><\/span>", r += '<span class="plus50">+<\/span>', r += '<span class="balls ' + t[2] + '"><b class="b' + t[2] + '">' + t[2] + "<\/b><\/span>", r += '<span class="plus50">=<\/span>', u = Number(t[0]) + Number(t[1]) + Number(t[2]), r += '<span class="balls ' + u + '"><b class="bg b_' + u + '">' + u + "<\/b><\/span>"; else return; $("#" + PankouUpdater.kjHmDiv).html(r) } else if (_topTemplateCode == "FANT" && lotteryType.endWith("PK10") && _ftType == 1) { if (r = "", $("#result_balls").removeClass().addClass("T_BJFTPK10"), t.length > 0) { for (i = 0; i < t.length; i++)f = "", i < 7 && i > 3 && (f = " ftbg"), r += '<span class="balls ' + t[i] + " " + f + '"><b class="b' + t[i] + '">' + t[i] + "<\/b><\/span>"; r += '<span class="plus50">+<\/span>'; u = Number(t[4]) + Number(t[5]) + Number(t[6]); r += '<span class="plus50 ftsum ftsum_' + u + '" title=' + u + "><\/span>" } else return; $("#" + PankouUpdater.kjHmDiv).html(r) } else if (_topTemplateCode == "FANT" && lotteryType.endWith("PK10") && _ftType == 2) { if (r = "", $("#result_balls").removeClass().addClass("T_BJFTPK10"), t.length > 0) { for (i = 0; i < t.length; i++)f = "", i > 6 && (f = " ftbg"), r += '<span class="balls ' + t[i] + " " + f + '"><b class="b' + t[i] + '">' + t[i] + "<\/b><\/span>"; r += '<span class="plus50">+<\/span>'; u = Number(t[7]) + Number(t[8]) + Number(t[9]); r += '<span class="plus50 ftsum ftsum_' + u + '" title=' + u + "><\/span>" } else return; $("#" + PankouUpdater.kjHmDiv).html(r) } else if (_topTemplateCode == "FANT" && lotteryType.endWith("PK10") && _ftType == 0) { if (r = "", $("#result_balls").removeClass().addClass("T_BJFTPK10"), t.length > 0) { for (i = 0; i < t.length; i++)f = "", i < 3 && (f = " ftbg"), r += '<span class="balls ' + t[i] + " " + f + '"><b class="b' + t[i] + '">' + t[i] + "<\/b><\/span>"; r += '<span class="plus50">+<\/span>'; u = Number(t[0]) + Number(t[1]) + Number(t[2]); r += '<span class="plus50 ftsum ftsum_' + u + '" title=' + u + "><\/span>" } else return; $("#" + PankouUpdater.kjHmDiv).html(r) } else if (_topTemplateCode == "FANT" && lotteryType.endWith("SSC") && _ftType == 0) { if ($("#result_balls").removeClass().addClass("T_CQFTSSC"), r = "", t.length > 0) { for (i = 0; i < t.length; i++)f = "", i < 3 && (f = " ftbg"), r += '<span class="balls ' + t[i] + "  " + f + '"><b class="b' + t[i] + '">' + t[i] + "<\/b><\/span>"; r += '<span class="plus50">+<\/span>'; u = Number(t[0]) + Number(t[1]) + Number(t[2]); r += '<span class="plus50 ftsum ftsum_' + u + '">' + u + "<\/span>" } else return; $("#" + PankouUpdater.kjHmDiv).html(r) } else if (_topTemplateCode == "FANT" && lotteryType.endWith("SSC") && _ftType == 1) { if ($("#result_balls").removeClass().addClass("T_CQFTSSC"), r = "", t.length > 0) { for (i = 0; i < t.length; i++)f = "", i < 4 && (f = " ftbg"), r += '<span class="balls ' + t[i] + "  " + f + '"><b class="b' + t[i] + '">' + t[i] + "<\/b><\/span>"; r += '<span class="plus50">+<\/span>'; u = Number(t[0]) + Number(t[1]) + Number(t[2]) + Number(t[3]); r += '<span class="plus50 ftsum ftsum_' + u + '">' + u + "<\/span>" } else return; $("#" + PankouUpdater.kjHmDiv).html(r) } else if (_topTemplateCode == "FANT" && lotteryType.endWith("SSC") && _ftType == 2) { if ($("#result_balls").removeClass().addClass("T_CQFTSSC"), r = "", t.length > 0) { for (i = 0; i < t.length; i++)f = "", i < 5 && (f = " ftbg"), r += '<span class="balls ' + t[i] + "  " + f + '"><b class="b' + t[i] + '">' + t[i] + "<\/b><\/span>"; r += '<span class="plus50">+<\/span>'; u = Number(t[0]) + Number(t[1]) + Number(t[2]) + Number(t[3]) + Number(t[4]); r += '<span class="plus50 ftsum ftsum_' + u + '">' + u + "<\/span>" } else return; $("#" + PankouUpdater.kjHmDiv).html(r) } else if (_topTemplateCode == "FANT" && lotteryType.endWith("KL10")) { if ($("#result_balls").removeClass().addClass("T_KL10FT"), r = "", u = 0, t.length > 0) { if (_ftType == 0) { for (i = 0; i < t.length; i++)f = "", i == 0 && (f = " ftbg"), r += '<span class="balls ' + t[i] + "  " + f + '"><b class="b' + t[i] + '">' + t[i] + "<\/b><\/span>"; u = Number(t[0]) } else if (_ftType == 1) { for (i = 0; i < t.length; i++)f = "", i == 4 && (f = " ftbg"), r += '<span class="balls ' + t[i] + "  " + f + '"><b class="b' + t[i] + '">' + t[i] + "<\/b><\/span>"; u = Number(t[4]) } else if (_ftType == 2) { for (i = 0; i < t.length; i++)f = "", i == 7 && (f = " ftbg"), r += '<span class="balls ' + t[i] + "  " + f + '"><b class="b' + t[i] + '">' + t[i] + "<\/b><\/span>"; u = Number(t[7]) } r += '<span class="plus50">+<\/span>'; r += '<span class="plus50 ftsum ftsum_' + u + '">' + u + "<\/span>" } else return; $("#" + PankouUpdater.kjHmDiv).html(r) } else if (_topTemplateCode == "BINGOFT") { if ($("#result_balls").removeClass().addClass("T_BINGOFT"), r = "", t = t.slice(0, 5), t.length > 0) { for (i = 0; i < t.length; i++)o = 1 * t[i] % 4, o = o == 0 ? 4 : o, r += '<span><b class="b' + o + '">' + o + "<\/b><i>" + t[i] + "<\/i><\/span>"; $("#" + PankouUpdater.kjHmDiv).html(r) } } else if (lotteryType == "CQXYNC" || lotteryType == "JSSCPK10" || lotteryType == "AUXYSCPK10" || lotteryType == "JSXYFTPK10" || lotteryType == "XYFTPK10" || lotteryType == "XYSTPK10" || lotteryType == "HLSXSSC") { if ($("#result_balls").removeClass().addClass("T_" + lotteryType), r = "", u = 0, t.length > 0) for (i = 0; i < t.length; i++)r += '<span class="balls ' + t[i] + '"><b class="b' + t[i] + '">' + t[i] + "<\/b><\/span>", u = u + Number(t[i]); else return; $("#" + PankouUpdater.kjHmDiv).html(r) } else if (_topTemplateCode == "F36X7" || _topTemplateCode == "F31X7") if (r = "", t.length > 0) { for (i = 0; i < t.length; i++)i == 7 && t[i] != null && t[i] != "" && (r += '<span class="plus">+<\/span>'), r += '<span><b class="b' + t[i] + '">' + t[i] + "<\/b>", _topTemplateCode == "F36X7" && (r += "<i>" + getAnimalByNum(s, t[i]) + "<\/i>"), r += "<\/span>"; $("#" + PankouUpdater.kjHmDiv).html(r) } else return; else if (_topTemplateCode == "BINGO") { if ($("#result_balls").removeClass().addClass("T_BINGO"), r = "", u = 0, t = t.slice(0, 5), t.length > 0) { for (h = { f: [1, 2, 3, 4, 5, 21, 22, 23, 24, 25, 41, 42, 43, 44, 45, 61, 62, 63, 64, 65], l: [6, 7, 8, 9, 10, 26, 27, 28, 29, 30, 46, 47, 48, 49, 50, 66, 67, 68, 69, 70], s: [11, 12, 13, 14, 15, 31, 32, 33, 34, 35, 51, 52, 53, 54, 55, 71, 72, 73, 74, 75], x: [16, 17, 18, 19, 20, 36, 37, 38, 39, 40, 56, 57, 58, 59, 60, 76, 77, 78, 79, 80] }, i = 0; i < t.length; i++)i == 4 && t[i] != null && t[i] != "" && (r += '<span class="plus">+<\/span>'), v = "", v = h.f.indexOf(Number(t[i])) != -1 ? "福" : h.l.indexOf(Number(t[i])) != -1 ? "禄" : h.s.indexOf(Number(t[i])) != -1 ? "寿" : "喜", r += '<span><b class="b' + t[i] + '">' + t[i] + "<\/b><i>" + v + "<\/i><\/span>", u += Number(t[i]); p = Number(t[0]) > Number(t[4]) ? "龙" : "虎"; r += '<span class="sum"><b class="bsum">' + u + "<\/b><i>总和<\/i><\/span>"; r += '<span class="sum"><b class="bsum">' + p + "<\/b><i>龙虎<\/i><\/span>"; $("#" + PankouUpdater.kjHmDiv).html(r) } } else if (_topTemplateCode == "PL3") { if ($("#result_balls").removeClass().addClass("T_PL3"), r = "", u = 0, t = t.slice(0, 3), t.length > 0) { for (i = 0; i < t.length; i++)u += Number(t[i]); w = u % 2 == 0 ? "双" : "单"; b = u >= 14 ? "大" : "小"; r += '<span><b class="b' + t[0] + '">' + t[0] + "<\/b><i>" + u + "<\/i><\/span>"; r += '<span><b class="b' + t[1] + '">' + t[1] + "<\/b><i>" + w + "<\/i><\/span>"; r += '<span><b class="b' + t[2] + '">' + t[2] + "<\/b><i>" + b + "<\/i><\/span>"; $("#" + PankouUpdater.kjHmDiv).html(r) } } else { if (r = "", u = 0, t.length > 0) for (i = 0; i < t.length; i++)r += '<span class="balls ' + t[i] + '"><b class="b' + t[i] + '">' + t[i] + "<\/b><\/span>", u = u + Number(t[i]); else return; $("#" + PankouUpdater.kjHmDiv).html(r) } iniDrawSiteEvent(lotteryType) } } }; var f = createBackgroudTimer({ timers: RERESH_ACCOUNT, callback: function () { f.restore(); updateAccount() }, tickcallback: function () { } }), e = document.getElementById("left_con"), n = 456, u = $("#mainMenuLeft").find("a.left_btn"), o = $(".acc_box").height() - 165, s = $(".trans_btn").height(); n = n + o + s; u.length == 2 ? n = n + 38 : u.length == 0 && (n = n - 43); e.style.maxHeight = document.body.clientHeight - n + "px"; Tab("two", 1, 1); $(".sub_box a").click(function () { $(".sub_box a.c_curr").removeClass("c_curr"); $(this).addClass("c_curr") }); $("#items").length == 0 && $("#middle-content").css({ top: "100px" }); i = store.get(_SELECTEDKEY + userloginId); i && $("#l_" + i).length > 0 && (lotteryType = i, r = $("#l_" + lotteryType).attr("lang"), _topTemplateCode = r.length > 0 ? r.split("_")[0] : lotteryType); setTab(lotteryType, _topTemplateCode, $("#l_" + lotteryType)[0]); PankouUpdater.pankouUrl = _root + "/PlaceBet/GetCurrentInstall?lotteryType=" + lotteryType; PankouUpdater.load() }); $(function () { var n; $(".spritearrow").click(function () { var i = $(this).attr("class"), t; i == "spritearrow arrowup" ? ($(this).removeClass("arrowup"), $(this).addClass("arrowdown"), $(".top_w").slideUp(500), $(".logo").fadeOut(500), $(".header").animate({ height: "73px" }, 500), $(".middle-content").animate({ top: "73px" }, 500), t = document.getElementById("left_con"), n || (n = t.style.maxHeight.replace("px", "") - 0), $("#left_con").animate({ maxHeight: n + 65 + "px" }, 500)) : ($(this).addClass("arrowup"), $(this).removeClass("arrowdown"), $(".top_w").slideDown(500), $(".logo").fadeIn(500), $(".header").animate({ height: "138px" }, 500), $("#middle-content").animate({ top: "138px" }, 500), n || (t = document.getElementById("left_con"), n = t.style.maxHeight.replace("px", "") - 0), $("#left_con").animate({ maxHeight: n + "px" }, 500)) }) }); $(function () { var n = 0; $("#toleft").click(function () { !$("#scroll_div").is(":animated") && n && ($("#scroll_div").animate({ left: "+=111px" }, 500), n--) }); $("#toright").click(function () { var t = $("#scroll_div a").length; !$("#scroll_div").is(":animated") && t > n + 6 && ($("#scroll_div").animate({ left: "-=111px" }, 500), n++) }) }); hisBetList = { betUrl: "/PlaceBet/Topbetlist", betList: [], interval: 12e4, placebet: !1, top: 10, loadNewBetList: function (n, t) { var f, u, i, e; for (setTimeout(function () { top.updateAccount && top.updateAccount() }, 1), f = "<li><p style='white-space:nowrap;overflow: hidden; text-overflow:ellipsis;'  title='{OddNo}'>单号：<span class=\"bid\">{OddNo}<\/span><\/p><p class=\"contents\"><span class=\"text\" title='{MidType} {DisplayName}@{Odds}'><span style='color:blue;'>{MidType} {DisplayName}<\/span> @ <span style='color:red;'>{Odds}<\/span><\/span><\/p><p>下注额：{Amount}<\/p><p>可赢金额：{Result}<\/p><\/li>", u = 0, i = 0; i < n.length; i++)u += n[i].Amount, n[i].Result = ((n[i].Odds - 1) * n[i].Amount).toFixed(top._winPoint), n[i].MidType == "对子" && (n[i].MidType = ""); var o = dataTemplate(f, n), s = '<ul class="bets">' + o + "<\/ul>", r = '<table class="total s0 table">'; r += "<tbody>"; r += '<tr><td class="label">下注期数<\/td><td id="betInstallment">' + t + "<\/td><\/tr>"; r += '<tr><td class="label">下注笔数<\/td><td id="betResultCount">' + n.length + "<\/td><\/tr>"; r += ' <tr><td class="label">合计金额<\/td><td id="betResultTotal">' + u + "<\/td><\/tr>"; r += "<\/tbody>"; r += "<\/table>"; e = '<div class="control s0"> <input type="button" onclick="backLastBets()" class="button" href="javascript:void(0)" value="返回" />  <\/div>'; top.ShowBetting(s + r + e) } };